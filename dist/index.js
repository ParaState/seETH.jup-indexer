"use strict";var A=Object.create;var P=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var N=(e,t)=>{for(var r in t)P(e,r,{get:t[r],enumerable:!0})},h=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of R(t))!C.call(e,s)&&s!==r&&P(e,s,{get:()=>t[s],enumerable:!(n=S(t,s))||n.enumerable});return e};var o=(e,t,r)=>(r=e!=null?A(B(e)):{},h(t||!e||!e.__esModule?P(r,"default",{value:e,enumerable:!0}):r,e)),F=e=>h(P({},"__esModule",{value:!0}),e);var _={};N(_,{handleLog:()=>E,handleReferralBoundLog:()=>I,handleStakedLog:()=>x,handleTransaction:()=>O,handleUnstakeAcceptedLog:()=>T,handleUnstakeFinishedLog:()=>U});module.exports=F(_);var p=o(require("assert")),c=class{constructor(t,r,n,s,w){this.id=t,this.to=r,this.from=n,this.value=s,this.contractAddress=w}get _name(){return"Transfer"}async save(){let t=this.id;(0,p.default)(t!==null,"Cannot save Transfer entity without an ID"),await store.set("Transfer",t.toString(),this)}static async remove(t){(0,p.default)(t!==null,"Cannot remove Transfer entity without an ID"),await store.remove("Transfer",t.toString())}static async get(t){(0,p.default)(t!=null,"Cannot get Transfer entity without an ID");let r=await store.get("Transfer",t.toString());if(r)return this.create(r)}static async getByFields(t,r){return(await store.getByFields("Transfer",t,r)).map(s=>this.create(s))}static create(t){(0,p.default)(t.id!==void 0&&t.id!==null,"id must be provided");let r=new this(t.id,t.to,t.from,t.value,t.contractAddress);return Object.assign(r,t),r}};var d=o(require("assert")),g=class{constructor(t,r,n,s,w){this.id=t,this.owner=r,this.spender=n,this.value=s,this.contractAddress=w}get _name(){return"Approval"}async save(){let t=this.id;(0,d.default)(t!==null,"Cannot save Approval entity without an ID"),await store.set("Approval",t.toString(),this)}static async remove(t){(0,d.default)(t!==null,"Cannot remove Approval entity without an ID"),await store.remove("Approval",t.toString())}static async get(t){(0,d.default)(t!=null,"Cannot get Approval entity without an ID");let r=await store.get("Approval",t.toString());if(r)return this.create(r)}static async getByFields(t,r){return(await store.getByFields("Approval",t,r)).map(s=>this.create(s))}static create(t){(0,d.default)(t.id!==void 0&&t.id!==null,"id must be provided");let r=new this(t.id,t.owner,t.spender,t.value,t.contractAddress);return Object.assign(r,t),r}};var l=o(require("assert")),u=class{constructor(t){this.id=t}get _name(){return"StakedRecord"}async save(){let t=this.id;(0,l.default)(t!==null,"Cannot save StakedRecord entity without an ID"),await store.set("StakedRecord",t.toString(),this)}static async remove(t){(0,l.default)(t!==null,"Cannot remove StakedRecord entity without an ID"),await store.remove("StakedRecord",t.toString())}static async get(t){(0,l.default)(t!=null,"Cannot get StakedRecord entity without an ID");let r=await store.get("StakedRecord",t.toString());if(r)return this.create(r)}static async getByFields(t,r){return(await store.getByFields("StakedRecord",t,r)).map(s=>this.create(s))}static create(t){(0,l.default)(t.id!==void 0&&t.id!==null,"id must be provided");let r=new this(t.id);return Object.assign(r,t),r}};var m=o(require("assert")),a=class{constructor(t){this.id=t}get _name(){return"Staker"}async save(){let t=this.id;(0,m.default)(t!==null,"Cannot save Staker entity without an ID"),await store.set("Staker",t.toString(),this)}static async remove(t){(0,m.default)(t!==null,"Cannot remove Staker entity without an ID"),await store.remove("Staker",t.toString())}static async get(t){(0,m.default)(t!=null,"Cannot get Staker entity without an ID");let r=await store.get("Staker",t.toString());if(r)return this.create(r)}static async getByFields(t,r){return(await store.getByFields("Staker",t,r)).map(s=>this.create(s))}static create(t){(0,m.default)(t.id!==void 0&&t.id!==null,"id must be provided");let r=new this(t.id);return Object.assign(r,t),r}};var k=o(require("assert")),i=class{constructor(t){this.id=t}get _name(){return"UnstakeAccepted"}async save(){let t=this.id;(0,k.default)(t!==null,"Cannot save UnstakeAccepted entity without an ID"),await store.set("UnstakeAccepted",t.toString(),this)}static async remove(t){(0,k.default)(t!==null,"Cannot remove UnstakeAccepted entity without an ID"),await store.remove("UnstakeAccepted",t.toString())}static async get(t){(0,k.default)(t!=null,"Cannot get UnstakeAccepted entity without an ID");let r=await store.get("UnstakeAccepted",t.toString());if(r)return this.create(r)}static async getByFields(t,r){return(await store.getByFields("UnstakeAccepted",t,r)).map(s=>this.create(s))}static create(t){(0,k.default)(t.id!==void 0&&t.id!==null,"id must be provided");let r=new this(t.id);return Object.assign(r,t),r}};var f=o(require("assert")),y=class{constructor(t,r,n){this.id=t,this.user=r,this.referrer=n}get _name(){return"ReferralBound"}async save(){let t=this.id;(0,f.default)(t!==null,"Cannot save ReferralBound entity without an ID"),await store.set("ReferralBound",t.toString(),this)}static async remove(t){(0,f.default)(t!==null,"Cannot remove ReferralBound entity without an ID"),await store.remove("ReferralBound",t.toString())}static async get(t){(0,f.default)(t!=null,"Cannot get ReferralBound entity without an ID");let r=await store.get("ReferralBound",t.toString());if(r)return this.create(r)}static async getByUser(t,r){return(await store.getByField("ReferralBound","user",t,r)).map(s=>this.create(s))}static async getByReferrer(t,r){return(await store.getByField("ReferralBound","referrer",t,r)).map(s=>this.create(s))}static async getByFields(t,r){return(await store.getByFields("ReferralBound",t,r)).map(s=>this.create(s))}static create(t){(0,f.default)(t.id!==void 0&&t.id!==null,"id must be provided");let r=new this(t.id,t.user,t.referrer);return Object.assign(r,t),r}};var v=o(require("assert"));async function E(e){logger.info(`New transfer transaction log at block ${e.blockNumber}`),(0,v.default)(e.args,"No log.args"),await c.create({id:e.transactionHash,blockHeight:BigInt(e.blockNumber),to:e.args.to,from:e.args.from,value:e.args.value.toBigInt(),contractAddress:e.address}).save()}async function O(e){logger.info(`New Approval transaction at block ${e.blockNumber}`),(0,v.default)(e.args,"No tx.args"),await g.create({id:e.hash,owner:e.from,spender:await e.args[0],value:BigInt(await e.args[1].toString()),contractAddress:e.to||""}).save()}var b=o(require("assert"));async function x(e){logger.info(`New staked transaction log at block ${e.blockNumber}`),(0,b.default)(e.args,"No staked.args"),await u.create({id:e.transactionHash,pool:e.address,blockHeight:BigInt(e.blockNumber),staker:e.args.staker,stakeToken:"0x000",stakeAmount:e.args.amount.toBigInt(),mintReceiver:e.args.receiver,mintAmount:e.args.minted.toBigInt(),timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save();let r=`${e.address}-${e.args.staker}`,n=await a.get(r);n?(n.mintAmount=e.args.minted.toBigInt()+n.mintAmount,n.stakeAmount=e.args.amount.toBigInt()+n.stakeAmount):n=await a.create({id:r,pool:e.address,staker:e.args.staker,stakeAmount:e.args.amount.toBigInt(),mintAmount:e.args.minted.toBigInt()}),await n.save()}async function T(e){logger.info(`New unstake accepted transaction log at block ${e.blockNumber}`),(0,b.default)(e.args,"No unstake.args"),logger.info("unstake========================================"),logger.info(`unstake.address: ${e.address}`),logger.info(`unstake.blockNumber: ${e.blockNumber}`),logger.info(`unstake.transactionHash: ${e.transactionHash}`),logger.info(`unstake.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`unstake.args.accept_id: ${e.args.accept_id}`),logger.info(`unstake.args.staker: ${e.args.staker}`),logger.info(`unstake.args.receiver: ${e.args.receiver}`),logger.info(`unstake.args.unstake_amount: ${e.args.unstake_amount}`),logger.info(`unstake.args.redeem_earning: ${e.args.redeem_earning}`),logger.info(`unstake.args.withdraw_eth: ${e.args.withdraw_eth}`),logger.info(`unstake.args.repay_usdc: ${e.args.repay_usdc}`),logger.info(`unstake.args: ${JSON.stringify(e.args)}`),logger.info(`unstake.args.accept_id: ${e.args.accept_id}`),logger.info("unstake========================================"),await i.create({id:e.args.accept_id.toString(),txHash:e.transactionHash,pool:e.address,blockHeight:BigInt(e.blockNumber),staker:e.args.staker,unstakeToken:e.address,unstakeAmount:e.args.unstake_amount.toBigInt(),redeemEarning:e.args.redeem_earning.toBigInt(),withdrawEth:e.args.withdraw_eth.toBigInt(),repayUsdc:e.args.repay_usdc.toBigInt(),status:"pending",timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save()}async function U(e){logger.info(`New unstake finished transaction log at block ${e.blockNumber}`),(0,b.default)(e.args,"No finished.args");let t=await i.get(e.args.accept_id.toString());t&&t.status==="pending"&&(t.status="success",await t.save())}async function I(e){logger.info(`New referral bound transaction log at block ${e.blockNumber}`),(0,b.default)(e.args,"No referralBound.args"),await y.create({id:e.transactionHash,blockHeight:BigInt(e.blockNumber),user:e.args.user,referrer:e.args.referrer,timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save()}0&&(module.exports={handleLog,handleReferralBoundLog,handleStakedLog,handleTransaction,handleUnstakeAcceptedLog,handleUnstakeFinishedLog});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIiwgIi4uL3NyYy90eXBlcy9tb2RlbHMvVHJhbnNmZXIudHMiLCAiLi4vc3JjL3R5cGVzL21vZGVscy9BcHByb3ZhbC50cyIsICIuLi9zcmMvdHlwZXMvbW9kZWxzL1N0YWtlZFJlY29yZC50cyIsICIuLi9zcmMvdHlwZXMvbW9kZWxzL1N0YWtlci50cyIsICIuLi9zcmMvdHlwZXMvbW9kZWxzL1Vuc3Rha2VBY2NlcHRlZC50cyIsICIuLi9zcmMvdHlwZXMvbW9kZWxzL1JlZmVycmFsQm91bmQudHMiLCAiLi4vc3JjL21hcHBpbmdzL2VyYzIwSGFuZGxlcnMudHMiLCAiLi4vc3JjL21hcHBpbmdzL3NzRVRISGFuZGxlcnMudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vRXhwb3J0cyBhbGwgaGFuZGxlciBmdW5jdGlvbnNcbmV4cG9ydCAqIGZyb20gXCIuL21hcHBpbmdzL2VyYzIwSGFuZGxlcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21hcHBpbmdzL3NzRVRISGFuZGxlcnNcIjtcbiIsICIvLyBBdXRvLWdlbmVyYXRlZCAsIERPIE5PVCBFRElUXG5pbXBvcnQge0VudGl0eSwgRnVuY3Rpb25Qcm9wZXJ0eU5hbWVzLCBGaWVsZHNFeHByZXNzaW9uLCBHZXRPcHRpb25zIH0gZnJvbSBcIkBzdWJxbC90eXBlcy1jb3JlXCI7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cblxuXG5leHBvcnQgdHlwZSBUcmFuc2ZlclByb3BzID0gT21pdDxUcmFuc2ZlciwgTm9uTnVsbGFibGU8RnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPFRyYW5zZmVyPj4gfCAnX25hbWUnPjtcblxuLypcbiAqIENvbXBhdCB0eXBlcyBhbGxvd3MgZm9yIHN1cHBvcnQgb2YgYWx0ZXJuYXRpdmUgYGlkYCB0eXBlcyB3aXRob3V0IHJlZmFjdG9yaW5nIHRoZSBub2RlXG4gKi9cbnR5cGUgQ29tcGF0VHJhbnNmZXJQcm9wcyA9IE9taXQ8VHJhbnNmZXJQcm9wcywgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG50eXBlIENvbXBhdEVudGl0eSA9IE9taXQ8RW50aXR5LCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcblxuZXhwb3J0IGNsYXNzIFRyYW5zZmVyIGltcGxlbWVudHMgQ29tcGF0RW50aXR5IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBcbiAgICAgICAgaWQ6IHN0cmluZyxcbiAgICAgICAgdG86IHN0cmluZyxcbiAgICAgICAgZnJvbTogc3RyaW5nLFxuICAgICAgICB2YWx1ZTogYmlnaW50LFxuICAgICAgICBjb250cmFjdEFkZHJlc3M6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnRvID0gdG87XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jb250cmFjdEFkZHJlc3MgPSBjb250cmFjdEFkZHJlc3M7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgdG86IHN0cmluZztcbiAgICBwdWJsaWMgZnJvbTogc3RyaW5nO1xuICAgIHB1YmxpYyB2YWx1ZTogYmlnaW50O1xuICAgIHB1YmxpYyBjb250cmFjdEFkZHJlc3M6IHN0cmluZztcbiAgICBcblxuICAgIGdldCBfbmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ1RyYW5zZmVyJztcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3Qgc2F2ZSBUcmFuc2ZlciBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdUcmFuc2ZlcicsIGlkLnRvU3RyaW5nKCksIHRoaXMgYXMgdW5rbm93biBhcyBDb21wYXRUcmFuc2ZlclByb3BzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgcmVtb3ZlKGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgYXNzZXJ0KGlkICE9PSBudWxsLCBcIkNhbm5vdCByZW1vdmUgVHJhbnNmZXIgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnVHJhbnNmZXInLCBpZC50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0KGlkOiBzdHJpbmcpOiBQcm9taXNlPFRyYW5zZmVyIHwgdW5kZWZpbmVkPiB7XG4gICAgICAgIGFzc2VydCgoaWQgIT09IG51bGwgJiYgaWQgIT09IHVuZGVmaW5lZCksIFwiQ2Fubm90IGdldCBUcmFuc2ZlciBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdUcmFuc2ZlcicsIGlkLnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAocmVjb3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgVHJhbnNmZXJQcm9wcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgZW50aXRpZXMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXJzIGFuZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogXHUyNkEwXHVGRTBGIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJzdCBzZWFyY2ggY2FjaGUgZGF0YSBmb2xsb3dlZCBieSBEQiBkYXRhLiBQbGVhc2UgY29uc2lkZXIgdGhpcyB3aGVuIHVzaW5nIG9yZGVyIGFuZCBvZmZzZXQgb3B0aW9ucy5cdTI2QTBcdUZFMEZcbiAgICAgKiAqL1xuICAgIHN0YXRpYyBhc3luYyBnZXRCeUZpZWxkcyhmaWx0ZXI6IEZpZWxkc0V4cHJlc3Npb248VHJhbnNmZXJQcm9wcz5bXSwgb3B0aW9uczogR2V0T3B0aW9uczxUcmFuc2ZlclByb3BzPik6IFByb21pc2U8VHJhbnNmZXJbXT4ge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZHM8Q29tcGF0VHJhbnNmZXJQcm9wcz4oJ1RyYW5zZmVyJywgZmlsdGVyICBhcyB1bmtub3duIGFzIEZpZWxkc0V4cHJlc3Npb248Q29tcGF0VHJhbnNmZXJQcm9wcz5bXSwgb3B0aW9ucyBhcyB1bmtub3duIGFzIEdldE9wdGlvbnM8Q29tcGF0VHJhbnNmZXJQcm9wcz4pO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFRyYW5zZmVyUHJvcHMpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKHJlY29yZDogVHJhbnNmZXJQcm9wcyk6IFRyYW5zZmVyIHtcbiAgICAgICAgYXNzZXJ0KHJlY29yZC5pZCAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5pZCAhPT0gbnVsbCwgXCJpZCBtdXN0IGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBuZXcgdGhpcyhcbiAgICAgICAgICAgIHJlY29yZC5pZCxcbiAgICAgICAgICAgIHJlY29yZC50byxcbiAgICAgICAgICAgIHJlY29yZC5mcm9tLFxuICAgICAgICAgICAgcmVjb3JkLnZhbHVlLFxuICAgICAgICAgICAgcmVjb3JkLmNvbnRyYWN0QWRkcmVzcyxcbiAgICAgICAgKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbnRpdHkscmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG59XG4iLCAiLy8gQXV0by1nZW5lcmF0ZWQgLCBETyBOT1QgRURJVFxuaW1wb3J0IHtFbnRpdHksIEZ1bmN0aW9uUHJvcGVydHlOYW1lcywgRmllbGRzRXhwcmVzc2lvbiwgR2V0T3B0aW9ucyB9IGZyb20gXCJAc3VicWwvdHlwZXMtY29yZVwiO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5cblxuZXhwb3J0IHR5cGUgQXBwcm92YWxQcm9wcyA9IE9taXQ8QXBwcm92YWwsIE5vbk51bGxhYmxlPEZ1bmN0aW9uUHJvcGVydHlOYW1lczxBcHByb3ZhbD4+IHwgJ19uYW1lJz47XG5cbi8qXG4gKiBDb21wYXQgdHlwZXMgYWxsb3dzIGZvciBzdXBwb3J0IG9mIGFsdGVybmF0aXZlIGBpZGAgdHlwZXMgd2l0aG91dCByZWZhY3RvcmluZyB0aGUgbm9kZVxuICovXG50eXBlIENvbXBhdEFwcHJvdmFsUHJvcHMgPSBPbWl0PEFwcHJvdmFsUHJvcHMsICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xudHlwZSBDb21wYXRFbnRpdHkgPSBPbWl0PEVudGl0eSwgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG5cbmV4cG9ydCBjbGFzcyBBcHByb3ZhbCBpbXBsZW1lbnRzIENvbXBhdEVudGl0eSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgXG4gICAgICAgIGlkOiBzdHJpbmcsXG4gICAgICAgIG93bmVyOiBzdHJpbmcsXG4gICAgICAgIHNwZW5kZXI6IHN0cmluZyxcbiAgICAgICAgdmFsdWU6IGJpZ2ludCxcbiAgICAgICAgY29udHJhY3RBZGRyZXNzOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLnNwZW5kZXIgPSBzcGVuZGVyO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY29udHJhY3RBZGRyZXNzID0gY29udHJhY3RBZGRyZXNzO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgaWQ6IHN0cmluZztcbiAgICBwdWJsaWMgYmxvY2tIZWlnaHQ/OiBiaWdpbnQ7XG4gICAgcHVibGljIG93bmVyOiBzdHJpbmc7XG4gICAgcHVibGljIHNwZW5kZXI6IHN0cmluZztcbiAgICBwdWJsaWMgdmFsdWU6IGJpZ2ludDtcbiAgICBwdWJsaWMgY29udHJhY3RBZGRyZXNzOiBzdHJpbmc7XG4gICAgXG5cbiAgICBnZXQgX25hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdBcHByb3ZhbCc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgQXBwcm92YWwgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnNldCgnQXBwcm92YWwnLCBpZC50b1N0cmluZygpLCB0aGlzIGFzIHVua25vd24gYXMgQ29tcGF0QXBwcm92YWxQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIEFwcHJvdmFsIGVudGl0eSB3aXRob3V0IGFuIElEXCIpO1xuICAgICAgICBhd2FpdCBzdG9yZS5yZW1vdmUoJ0FwcHJvdmFsJywgaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTxBcHByb3ZhbCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgQXBwcm92YWwgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IHN0b3JlLmdldCgnQXBwcm92YWwnLCBpZC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIEFwcHJvdmFsUHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGVudGl0aWVzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgZmlsdGVycyBhbmQgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIFx1MjZBMFx1RkUwRiBUaGlzIGZ1bmN0aW9uIHdpbGwgZmlyc3Qgc2VhcmNoIGNhY2hlIGRhdGEgZm9sbG93ZWQgYnkgREIgZGF0YS4gUGxlYXNlIGNvbnNpZGVyIHRoaXMgd2hlbiB1c2luZyBvcmRlciBhbmQgb2Zmc2V0IG9wdGlvbnMuXHUyNkEwXHVGRTBGXG4gICAgICogKi9cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlGaWVsZHMoZmlsdGVyOiBGaWVsZHNFeHByZXNzaW9uPEFwcHJvdmFsUHJvcHM+W10sIG9wdGlvbnM6IEdldE9wdGlvbnM8QXBwcm92YWxQcm9wcz4pOiBQcm9taXNlPEFwcHJvdmFsW10+IHtcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHN0b3JlLmdldEJ5RmllbGRzPENvbXBhdEFwcHJvdmFsUHJvcHM+KCdBcHByb3ZhbCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdEFwcHJvdmFsUHJvcHM+W10sIG9wdGlvbnMgYXMgdW5rbm93biBhcyBHZXRPcHRpb25zPENvbXBhdEFwcHJvdmFsUHJvcHM+KTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBBcHByb3ZhbFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IEFwcHJvdmFsUHJvcHMpOiBBcHByb3ZhbCB7XG4gICAgICAgIGFzc2VydChyZWNvcmQuaWQgIT09IHVuZGVmaW5lZCAmJiByZWNvcmQuaWQgIT09IG51bGwsIFwiaWQgbXVzdCBiZSBwcm92aWRlZFwiKTtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gbmV3IHRoaXMoXG4gICAgICAgICAgICByZWNvcmQuaWQsXG4gICAgICAgICAgICByZWNvcmQub3duZXIsXG4gICAgICAgICAgICByZWNvcmQuc3BlbmRlcixcbiAgICAgICAgICAgIHJlY29yZC52YWx1ZSxcbiAgICAgICAgICAgIHJlY29yZC5jb250cmFjdEFkZHJlc3MsXG4gICAgICAgICk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZW50aXR5LHJlY29yZCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxufVxuIiwgIi8vIEF1dG8tZ2VuZXJhdGVkICwgRE8gTk9UIEVESVRcbmltcG9ydCB7RW50aXR5LCBGdW5jdGlvblByb3BlcnR5TmFtZXMsIEZpZWxkc0V4cHJlc3Npb24sIEdldE9wdGlvbnMgfSBmcm9tIFwiQHN1YnFsL3R5cGVzLWNvcmVcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuXG5cbmV4cG9ydCB0eXBlIFN0YWtlZFJlY29yZFByb3BzID0gT21pdDxTdGFrZWRSZWNvcmQsIE5vbk51bGxhYmxlPEZ1bmN0aW9uUHJvcGVydHlOYW1lczxTdGFrZWRSZWNvcmQ+PiB8ICdfbmFtZSc+O1xuXG4vKlxuICogQ29tcGF0IHR5cGVzIGFsbG93cyBmb3Igc3VwcG9ydCBvZiBhbHRlcm5hdGl2ZSBgaWRgIHR5cGVzIHdpdGhvdXQgcmVmYWN0b3JpbmcgdGhlIG5vZGVcbiAqL1xudHlwZSBDb21wYXRTdGFrZWRSZWNvcmRQcm9wcyA9IE9taXQ8U3Rha2VkUmVjb3JkUHJvcHMsICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xudHlwZSBDb21wYXRFbnRpdHkgPSBPbWl0PEVudGl0eSwgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG5cbmV4cG9ydCBjbGFzcyBTdGFrZWRSZWNvcmQgaW1wbGVtZW50cyBDb21wYXRFbnRpdHkge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIFxuICAgICAgICBpZDogc3RyaW5nLFxuICAgICkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBwb29sPzogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgc3Rha2VyPzogc3RyaW5nO1xuICAgIHB1YmxpYyBzdGFrZVRva2VuPzogc3RyaW5nO1xuICAgIHB1YmxpYyBzdGFrZUFtb3VudD86IGJpZ2ludDtcbiAgICBwdWJsaWMgbWludFJlY2VpdmVyPzogc3RyaW5nO1xuICAgIHB1YmxpYyBtaW50VG9rZW4/OiBzdHJpbmc7XG4gICAgcHVibGljIG1pbnRBbW91bnQ/OiBiaWdpbnQ7XG4gICAgcHVibGljIHRpbWVzdGFtcD86IERhdGU7XG4gICAgXG5cbiAgICBnZXQgX25hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdTdGFrZWRSZWNvcmQnO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5pZDtcbiAgICAgICAgYXNzZXJ0KGlkICE9PSBudWxsLCBcIkNhbm5vdCBzYXZlIFN0YWtlZFJlY29yZCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdTdGFrZWRSZWNvcmQnLCBpZC50b1N0cmluZygpLCB0aGlzIGFzIHVua25vd24gYXMgQ29tcGF0U3Rha2VkUmVjb3JkUHJvcHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyByZW1vdmUoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHJlbW92ZSBTdGFrZWRSZWNvcmQgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnU3Rha2VkUmVjb3JkJywgaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTxTdGFrZWRSZWNvcmQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgYXNzZXJ0KChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSwgXCJDYW5ub3QgZ2V0IFN0YWtlZFJlY29yZCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdTdGFrZWRSZWNvcmQnLCBpZC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFN0YWtlZFJlY29yZFByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlbnRpdGllcyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGZpbHRlcnMgYW5kIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBcdTI2QTBcdUZFMEYgVGhpcyBmdW5jdGlvbiB3aWxsIGZpcnN0IHNlYXJjaCBjYWNoZSBkYXRhIGZvbGxvd2VkIGJ5IERCIGRhdGEuIFBsZWFzZSBjb25zaWRlciB0aGlzIHdoZW4gdXNpbmcgb3JkZXIgYW5kIG9mZnNldCBvcHRpb25zLlx1MjZBMFx1RkUwRlxuICAgICAqICovXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5RmllbGRzKGZpbHRlcjogRmllbGRzRXhwcmVzc2lvbjxTdGFrZWRSZWNvcmRQcm9wcz5bXSwgb3B0aW9uczogR2V0T3B0aW9uczxTdGFrZWRSZWNvcmRQcm9wcz4pOiBQcm9taXNlPFN0YWtlZFJlY29yZFtdPiB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkczxDb21wYXRTdGFrZWRSZWNvcmRQcm9wcz4oJ1N0YWtlZFJlY29yZCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdFN0YWtlZFJlY29yZFByb3BzPltdLCBvcHRpb25zIGFzIHVua25vd24gYXMgR2V0T3B0aW9uczxDb21wYXRTdGFrZWRSZWNvcmRQcm9wcz4pO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFN0YWtlZFJlY29yZFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IFN0YWtlZFJlY29yZFByb3BzKTogU3Rha2VkUmVjb3JkIHtcbiAgICAgICAgYXNzZXJ0KHJlY29yZC5pZCAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5pZCAhPT0gbnVsbCwgXCJpZCBtdXN0IGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBuZXcgdGhpcyhcbiAgICAgICAgICAgIHJlY29yZC5pZCxcbiAgICAgICAgKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbnRpdHkscmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG59XG4iLCAiLy8gQXV0by1nZW5lcmF0ZWQgLCBETyBOT1QgRURJVFxuaW1wb3J0IHtFbnRpdHksIEZ1bmN0aW9uUHJvcGVydHlOYW1lcywgRmllbGRzRXhwcmVzc2lvbiwgR2V0T3B0aW9ucyB9IGZyb20gXCJAc3VicWwvdHlwZXMtY29yZVwiO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5cblxuZXhwb3J0IHR5cGUgU3Rha2VyUHJvcHMgPSBPbWl0PFN0YWtlciwgTm9uTnVsbGFibGU8RnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPFN0YWtlcj4+IHwgJ19uYW1lJz47XG5cbi8qXG4gKiBDb21wYXQgdHlwZXMgYWxsb3dzIGZvciBzdXBwb3J0IG9mIGFsdGVybmF0aXZlIGBpZGAgdHlwZXMgd2l0aG91dCByZWZhY3RvcmluZyB0aGUgbm9kZVxuICovXG50eXBlIENvbXBhdFN0YWtlclByb3BzID0gT21pdDxTdGFrZXJQcm9wcywgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG50eXBlIENvbXBhdEVudGl0eSA9IE9taXQ8RW50aXR5LCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcblxuZXhwb3J0IGNsYXNzIFN0YWtlciBpbXBsZW1lbnRzIENvbXBhdEVudGl0eSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgXG4gICAgICAgIGlkOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIGlkOiBzdHJpbmc7XG4gICAgcHVibGljIHBvb2w/OiBzdHJpbmc7XG4gICAgcHVibGljIHN0YWtlcj86IHN0cmluZztcbiAgICBwdWJsaWMgc3Rha2VBbW91bnQ/OiBiaWdpbnQ7XG4gICAgcHVibGljIG1pbnRBbW91bnQ/OiBiaWdpbnQ7XG4gICAgXG5cbiAgICBnZXQgX25hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdTdGFrZXInO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5pZDtcbiAgICAgICAgYXNzZXJ0KGlkICE9PSBudWxsLCBcIkNhbm5vdCBzYXZlIFN0YWtlciBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdTdGFrZXInLCBpZC50b1N0cmluZygpLCB0aGlzIGFzIHVua25vd24gYXMgQ29tcGF0U3Rha2VyUHJvcHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyByZW1vdmUoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHJlbW92ZSBTdGFrZXIgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnU3Rha2VyJywgaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTxTdGFrZXIgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgYXNzZXJ0KChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSwgXCJDYW5ub3QgZ2V0IFN0YWtlciBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdTdGFrZXInLCBpZC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFN0YWtlclByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlbnRpdGllcyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGZpbHRlcnMgYW5kIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBcdTI2QTBcdUZFMEYgVGhpcyBmdW5jdGlvbiB3aWxsIGZpcnN0IHNlYXJjaCBjYWNoZSBkYXRhIGZvbGxvd2VkIGJ5IERCIGRhdGEuIFBsZWFzZSBjb25zaWRlciB0aGlzIHdoZW4gdXNpbmcgb3JkZXIgYW5kIG9mZnNldCBvcHRpb25zLlx1MjZBMFx1RkUwRlxuICAgICAqICovXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5RmllbGRzKGZpbHRlcjogRmllbGRzRXhwcmVzc2lvbjxTdGFrZXJQcm9wcz5bXSwgb3B0aW9uczogR2V0T3B0aW9uczxTdGFrZXJQcm9wcz4pOiBQcm9taXNlPFN0YWtlcltdPiB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkczxDb21wYXRTdGFrZXJQcm9wcz4oJ1N0YWtlcicsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdFN0YWtlclByb3BzPltdLCBvcHRpb25zIGFzIHVua25vd24gYXMgR2V0T3B0aW9uczxDb21wYXRTdGFrZXJQcm9wcz4pO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFN0YWtlclByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IFN0YWtlclByb3BzKTogU3Rha2VyIHtcbiAgICAgICAgYXNzZXJ0KHJlY29yZC5pZCAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5pZCAhPT0gbnVsbCwgXCJpZCBtdXN0IGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBuZXcgdGhpcyhcbiAgICAgICAgICAgIHJlY29yZC5pZCxcbiAgICAgICAgKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbnRpdHkscmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG59XG4iLCAiLy8gQXV0by1nZW5lcmF0ZWQgLCBETyBOT1QgRURJVFxuaW1wb3J0IHtFbnRpdHksIEZ1bmN0aW9uUHJvcGVydHlOYW1lcywgRmllbGRzRXhwcmVzc2lvbiwgR2V0T3B0aW9ucyB9IGZyb20gXCJAc3VicWwvdHlwZXMtY29yZVwiO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5cblxuZXhwb3J0IHR5cGUgVW5zdGFrZUFjY2VwdGVkUHJvcHMgPSBPbWl0PFVuc3Rha2VBY2NlcHRlZCwgTm9uTnVsbGFibGU8RnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPFVuc3Rha2VBY2NlcHRlZD4+IHwgJ19uYW1lJz47XG5cbi8qXG4gKiBDb21wYXQgdHlwZXMgYWxsb3dzIGZvciBzdXBwb3J0IG9mIGFsdGVybmF0aXZlIGBpZGAgdHlwZXMgd2l0aG91dCByZWZhY3RvcmluZyB0aGUgbm9kZVxuICovXG50eXBlIENvbXBhdFVuc3Rha2VBY2NlcHRlZFByb3BzID0gT21pdDxVbnN0YWtlQWNjZXB0ZWRQcm9wcywgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG50eXBlIENvbXBhdEVudGl0eSA9IE9taXQ8RW50aXR5LCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcblxuZXhwb3J0IGNsYXNzIFVuc3Rha2VBY2NlcHRlZCBpbXBsZW1lbnRzIENvbXBhdEVudGl0eSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgXG4gICAgICAgIGlkOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgcHVibGljIGlkOiBzdHJpbmc7XG4gICAgcHVibGljIHR4SGFzaD86IHN0cmluZztcbiAgICBwdWJsaWMgcG9vbD86IHN0cmluZztcbiAgICBwdWJsaWMgYmxvY2tIZWlnaHQ/OiBiaWdpbnQ7XG4gICAgcHVibGljIHN0YWtlcj86IHN0cmluZztcbiAgICBwdWJsaWMgdW5zdGFrZVRva2VuPzogc3RyaW5nO1xuICAgIHB1YmxpYyB1bnN0YWtlQW1vdW50PzogYmlnaW50O1xuICAgIHB1YmxpYyByZWRlZW1FYXJuaW5nPzogYmlnaW50O1xuICAgIHB1YmxpYyB3aXRoZHJhd0V0aD86IGJpZ2ludDtcbiAgICBwdWJsaWMgcmVwYXlVc2RjPzogYmlnaW50O1xuICAgIHB1YmxpYyBzdGF0dXM/OiBzdHJpbmc7XG4gICAgcHVibGljIHRpbWVzdGFtcD86IERhdGU7XG4gICAgXG5cbiAgICBnZXQgX25hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdVbnN0YWtlQWNjZXB0ZWQnO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5pZDtcbiAgICAgICAgYXNzZXJ0KGlkICE9PSBudWxsLCBcIkNhbm5vdCBzYXZlIFVuc3Rha2VBY2NlcHRlZCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdVbnN0YWtlQWNjZXB0ZWQnLCBpZC50b1N0cmluZygpLCB0aGlzIGFzIHVua25vd24gYXMgQ29tcGF0VW5zdGFrZUFjY2VwdGVkUHJvcHMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyByZW1vdmUoaWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHJlbW92ZSBVbnN0YWtlQWNjZXB0ZWQgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnVW5zdGFrZUFjY2VwdGVkJywgaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTxVbnN0YWtlQWNjZXB0ZWQgfCB1bmRlZmluZWQ+IHtcbiAgICAgICAgYXNzZXJ0KChpZCAhPT0gbnVsbCAmJiBpZCAhPT0gdW5kZWZpbmVkKSwgXCJDYW5ub3QgZ2V0IFVuc3Rha2VBY2NlcHRlZCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdVbnN0YWtlQWNjZXB0ZWQnLCBpZC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFVuc3Rha2VBY2NlcHRlZFByb3BzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlbnRpdGllcyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGZpbHRlcnMgYW5kIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBcdTI2QTBcdUZFMEYgVGhpcyBmdW5jdGlvbiB3aWxsIGZpcnN0IHNlYXJjaCBjYWNoZSBkYXRhIGZvbGxvd2VkIGJ5IERCIGRhdGEuIFBsZWFzZSBjb25zaWRlciB0aGlzIHdoZW4gdXNpbmcgb3JkZXIgYW5kIG9mZnNldCBvcHRpb25zLlx1MjZBMFx1RkUwRlxuICAgICAqICovXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5RmllbGRzKGZpbHRlcjogRmllbGRzRXhwcmVzc2lvbjxVbnN0YWtlQWNjZXB0ZWRQcm9wcz5bXSwgb3B0aW9uczogR2V0T3B0aW9uczxVbnN0YWtlQWNjZXB0ZWRQcm9wcz4pOiBQcm9taXNlPFVuc3Rha2VBY2NlcHRlZFtdPiB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkczxDb21wYXRVbnN0YWtlQWNjZXB0ZWRQcm9wcz4oJ1Vuc3Rha2VBY2NlcHRlZCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdFVuc3Rha2VBY2NlcHRlZFByb3BzPltdLCBvcHRpb25zIGFzIHVua25vd24gYXMgR2V0T3B0aW9uczxDb21wYXRVbnN0YWtlQWNjZXB0ZWRQcm9wcz4pO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFVuc3Rha2VBY2NlcHRlZFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IFVuc3Rha2VBY2NlcHRlZFByb3BzKTogVW5zdGFrZUFjY2VwdGVkIHtcbiAgICAgICAgYXNzZXJ0KHJlY29yZC5pZCAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5pZCAhPT0gbnVsbCwgXCJpZCBtdXN0IGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBuZXcgdGhpcyhcbiAgICAgICAgICAgIHJlY29yZC5pZCxcbiAgICAgICAgKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihlbnRpdHkscmVjb3JkKTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG59XG4iLCAiLy8gQXV0by1nZW5lcmF0ZWQgLCBETyBOT1QgRURJVFxuaW1wb3J0IHtFbnRpdHksIEZ1bmN0aW9uUHJvcGVydHlOYW1lcywgRmllbGRzRXhwcmVzc2lvbiwgR2V0T3B0aW9ucyB9IGZyb20gXCJAc3VicWwvdHlwZXMtY29yZVwiO1xuaW1wb3J0IGFzc2VydCBmcm9tICdhc3NlcnQnO1xuXG5cblxuZXhwb3J0IHR5cGUgUmVmZXJyYWxCb3VuZFByb3BzID0gT21pdDxSZWZlcnJhbEJvdW5kLCBOb25OdWxsYWJsZTxGdW5jdGlvblByb3BlcnR5TmFtZXM8UmVmZXJyYWxCb3VuZD4+IHwgJ19uYW1lJz47XG5cbi8qXG4gKiBDb21wYXQgdHlwZXMgYWxsb3dzIGZvciBzdXBwb3J0IG9mIGFsdGVybmF0aXZlIGBpZGAgdHlwZXMgd2l0aG91dCByZWZhY3RvcmluZyB0aGUgbm9kZVxuICovXG50eXBlIENvbXBhdFJlZmVycmFsQm91bmRQcm9wcyA9IE9taXQ8UmVmZXJyYWxCb3VuZFByb3BzLCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcbnR5cGUgQ29tcGF0RW50aXR5ID0gT21pdDxFbnRpdHksICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xuXG5leHBvcnQgY2xhc3MgUmVmZXJyYWxCb3VuZCBpbXBsZW1lbnRzIENvbXBhdEVudGl0eSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgXG4gICAgICAgIGlkOiBzdHJpbmcsXG4gICAgICAgIHVzZXI6IHN0cmluZyxcbiAgICAgICAgcmVmZXJyZXI6IHN0cmluZyxcbiAgICApIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnVzZXIgPSB1c2VyO1xuICAgICAgICB0aGlzLnJlZmVycmVyID0gcmVmZXJyZXI7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgdXNlcjogc3RyaW5nO1xuICAgIHB1YmxpYyByZWZlcnJlcjogc3RyaW5nO1xuICAgIHB1YmxpYyB0aW1lc3RhbXA/OiBEYXRlO1xuICAgIFxuXG4gICAgZ2V0IF9uYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnUmVmZXJyYWxCb3VuZCc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgUmVmZXJyYWxCb3VuZCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdSZWZlcnJhbEJvdW5kJywgaWQudG9TdHJpbmcoKSwgdGhpcyBhcyB1bmtub3duIGFzIENvbXBhdFJlZmVycmFsQm91bmRQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIFJlZmVycmFsQm91bmQgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnUmVmZXJyYWxCb3VuZCcsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8UmVmZXJyYWxCb3VuZCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgUmVmZXJyYWxCb3VuZCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdSZWZlcnJhbEJvdW5kJywgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWZlcnJhbEJvdW5kUHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5VXNlcih1c2VyOiBzdHJpbmcsIG9wdGlvbnM6IEdldE9wdGlvbnM8Q29tcGF0UmVmZXJyYWxCb3VuZFByb3BzPik6IFByb21pc2U8UmVmZXJyYWxCb3VuZFtdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFJlZmVycmFsQm91bmRQcm9wcz4oJ1JlZmVycmFsQm91bmQnLCAndXNlcicsIHVzZXIsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFJlZmVycmFsQm91bmRQcm9wcykpO1xuICAgIH1cbiAgICBcblxuICAgIHN0YXRpYyBhc3luYyBnZXRCeVJlZmVycmVyKHJlZmVycmVyOiBzdHJpbmcsIG9wdGlvbnM6IEdldE9wdGlvbnM8Q29tcGF0UmVmZXJyYWxCb3VuZFByb3BzPik6IFByb21pc2U8UmVmZXJyYWxCb3VuZFtdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFJlZmVycmFsQm91bmRQcm9wcz4oJ1JlZmVycmFsQm91bmQnLCAncmVmZXJyZXInLCByZWZlcnJlciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgUmVmZXJyYWxCb3VuZFByb3BzKSk7XG4gICAgfVxuICAgIFxuXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGVudGl0aWVzIG1hdGNoaW5nIHRoZSBzcGVjaWZpZWQgZmlsdGVycyBhbmQgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIFx1MjZBMFx1RkUwRiBUaGlzIGZ1bmN0aW9uIHdpbGwgZmlyc3Qgc2VhcmNoIGNhY2hlIGRhdGEgZm9sbG93ZWQgYnkgREIgZGF0YS4gUGxlYXNlIGNvbnNpZGVyIHRoaXMgd2hlbiB1c2luZyBvcmRlciBhbmQgb2Zmc2V0IG9wdGlvbnMuXHUyNkEwXHVGRTBGXG4gICAgICogKi9cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlGaWVsZHMoZmlsdGVyOiBGaWVsZHNFeHByZXNzaW9uPFJlZmVycmFsQm91bmRQcm9wcz5bXSwgb3B0aW9uczogR2V0T3B0aW9uczxSZWZlcnJhbEJvdW5kUHJvcHM+KTogUHJvbWlzZTxSZWZlcnJhbEJvdW5kW10+IHtcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHN0b3JlLmdldEJ5RmllbGRzPENvbXBhdFJlZmVycmFsQm91bmRQcm9wcz4oJ1JlZmVycmFsQm91bmQnLCBmaWx0ZXIgIGFzIHVua25vd24gYXMgRmllbGRzRXhwcmVzc2lvbjxDb21wYXRSZWZlcnJhbEJvdW5kUHJvcHM+W10sIG9wdGlvbnMgYXMgdW5rbm93biBhcyBHZXRPcHRpb25zPENvbXBhdFJlZmVycmFsQm91bmRQcm9wcz4pO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFJlZmVycmFsQm91bmRQcm9wcykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUocmVjb3JkOiBSZWZlcnJhbEJvdW5kUHJvcHMpOiBSZWZlcnJhbEJvdW5kIHtcbiAgICAgICAgYXNzZXJ0KHJlY29yZC5pZCAhPT0gdW5kZWZpbmVkICYmIHJlY29yZC5pZCAhPT0gbnVsbCwgXCJpZCBtdXN0IGJlIHByb3ZpZGVkXCIpO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBuZXcgdGhpcyhcbiAgICAgICAgICAgIHJlY29yZC5pZCxcbiAgICAgICAgICAgIHJlY29yZC51c2VyLFxuICAgICAgICAgICAgcmVjb3JkLnJlZmVycmVyLFxuICAgICAgICApO1xuICAgICAgICBPYmplY3QuYXNzaWduKGVudGl0eSxyZWNvcmQpO1xuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBBcHByb3ZhbCwgVHJhbnNmZXIgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7XG4gIEFwcHJvdmVUcmFuc2FjdGlvbixcbiAgVHJhbnNmZXJMb2csXG59IGZyb20gXCIuLi90eXBlcy9hYmktaW50ZXJmYWNlcy9FcmMyMFwiO1xuaW1wb3J0IGFzc2VydCBmcm9tIFwiYXNzZXJ0XCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2cobG9nOiBUcmFuc2ZlckxvZyk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IHRyYW5zZmVyIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke2xvZy5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KGxvZy5hcmdzLCBcIk5vIGxvZy5hcmdzXCIpO1xuXG4gIGNvbnN0IHRyYW5zYWN0aW9uID0gVHJhbnNmZXIuY3JlYXRlKHtcbiAgICBpZDogbG9nLnRyYW5zYWN0aW9uSGFzaCxcbiAgICBibG9ja0hlaWdodDogQmlnSW50KGxvZy5ibG9ja051bWJlciksXG4gICAgdG86IGxvZy5hcmdzLnRvLFxuICAgIGZyb206IGxvZy5hcmdzLmZyb20sXG4gICAgdmFsdWU6IGxvZy5hcmdzLnZhbHVlLnRvQmlnSW50KCksXG4gICAgY29udHJhY3RBZGRyZXNzOiBsb2cuYWRkcmVzcyxcbiAgfSk7XG5cbiAgYXdhaXQgdHJhbnNhY3Rpb24uc2F2ZSgpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVHJhbnNhY3Rpb24odHg6IEFwcHJvdmVUcmFuc2FjdGlvbik6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IEFwcHJvdmFsIHRyYW5zYWN0aW9uIGF0IGJsb2NrICR7dHguYmxvY2tOdW1iZXJ9YCk7XG4gIGFzc2VydCh0eC5hcmdzLCBcIk5vIHR4LmFyZ3NcIik7XG5cbiAgY29uc3QgYXBwcm92YWwgPSBBcHByb3ZhbC5jcmVhdGUoe1xuICAgIGlkOiB0eC5oYXNoLFxuICAgIG93bmVyOiB0eC5mcm9tLFxuICAgIHNwZW5kZXI6IGF3YWl0IHR4LmFyZ3NbMF0sXG4gICAgdmFsdWU6IEJpZ0ludChhd2FpdCB0eC5hcmdzWzFdLnRvU3RyaW5nKCkpLFxuICAgIGNvbnRyYWN0QWRkcmVzczogdHgudG8gfHwgXCJcIixcbiAgfSk7XG5cbiAgYXdhaXQgYXBwcm92YWwuc2F2ZSgpO1xufVxuIiwgImltcG9ydCB7IFN0YWtlciwgU3Rha2VkUmVjb3JkLCBVbnN0YWtlQWNjZXB0ZWQsIFJlZmVycmFsQm91bmQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IFN0YWtlZExvZywgVW5zdGFrZUFjY2VwdGVkTG9nLCBVbnN0YWtlRmluaXNoZWRMb2csIFJlZmVycmFsQm91bmRMb2cgfSBmcm9tIFwiLi4vdHlwZXMvYWJpLWludGVyZmFjZXMvU3NldGhcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSBcImFzc2VydFwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU3Rha2VkTG9nKHN0YWtlZDogU3Rha2VkTG9nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKGBOZXcgc3Rha2VkIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke3N0YWtlZC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHN0YWtlZC5hcmdzLCBcIk5vIHN0YWtlZC5hcmdzXCIpO1xuICBjb25zdCByZWNvcmQgPSBTdGFrZWRSZWNvcmQuY3JlYXRlKHtcbiAgICBpZDogc3Rha2VkLnRyYW5zYWN0aW9uSGFzaCxcbiAgICBwb29sOiBzdGFrZWQuYWRkcmVzcyxcbiAgICBibG9ja0hlaWdodDogQmlnSW50KHN0YWtlZC5ibG9ja051bWJlciksXG4gICAgc3Rha2VyOiBzdGFrZWQuYXJncy5zdGFrZXIsXG4gICAgc3Rha2VUb2tlbjogXCIweDAwMFwiLFxuICAgIHN0YWtlQW1vdW50OiBzdGFrZWQuYXJncy5hbW91bnQudG9CaWdJbnQoKSxcbiAgICBtaW50UmVjZWl2ZXI6IHN0YWtlZC5hcmdzLnJlY2VpdmVyLFxuICAgIG1pbnRBbW91bnQ6IHN0YWtlZC5hcmdzLm1pbnRlZC50b0JpZ0ludCgpLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKHN0YWtlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKSxcbiAgfSk7XG5cbiAgYXdhaXQgcmVjb3JkLnNhdmUoKTtcblxuICBjb25zdCBzdGFrZXJfaWQgPSBgJHtzdGFrZWQuYWRkcmVzc30tJHtzdGFrZWQuYXJncy5zdGFrZXJ9YDtcblxuICBsZXQgc3Rha2VyID0gYXdhaXQgU3Rha2VyLmdldChzdGFrZXJfaWQpO1xuXG4gIGlmICghc3Rha2VyKSB7XG4gICAgc3Rha2VyID0gYXdhaXQgU3Rha2VyLmNyZWF0ZSh7XG4gICAgICBpZDogc3Rha2VyX2lkLFxuICAgICAgcG9vbDogc3Rha2VkLmFkZHJlc3MsXG4gICAgICBzdGFrZXI6IHN0YWtlZC5hcmdzLnN0YWtlcixcbiAgICAgIHN0YWtlQW1vdW50OiBzdGFrZWQuYXJncy5hbW91bnQudG9CaWdJbnQoKSxcbiAgICAgIG1pbnRBbW91bnQ6IHN0YWtlZC5hcmdzLm1pbnRlZC50b0JpZ0ludCgpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN0YWtlci5taW50QW1vdW50ID0gc3Rha2VkLmFyZ3MubWludGVkLnRvQmlnSW50KCkgKyBzdGFrZXIubWludEFtb3VudCE7XG4gICAgc3Rha2VyLnN0YWtlQW1vdW50ID0gc3Rha2VkLmFyZ3MuYW1vdW50LnRvQmlnSW50KCkgKyBzdGFrZXIuc3Rha2VBbW91bnQhO1xuICB9XG5cbiAgYXdhaXQgc3Rha2VyLnNhdmUoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVuc3Rha2VBY2NlcHRlZExvZyh1bnN0YWtlOiBVbnN0YWtlQWNjZXB0ZWRMb2cpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbG9nZ2VyLmluZm8oYE5ldyB1bnN0YWtlIGFjY2VwdGVkIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke3Vuc3Rha2UuYmxvY2tOdW1iZXJ9YCk7XG4gIGFzc2VydCh1bnN0YWtlLmFyZ3MsIFwiTm8gdW5zdGFrZS5hcmdzXCIpO1xuXG4gIGxvZ2dlci5pbmZvKGB1bnN0YWtlPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS5hZGRyZXNzOiAke3Vuc3Rha2UuYWRkcmVzc31gKTtcbiAgbG9nZ2VyLmluZm8oYHVuc3Rha2UuYmxvY2tOdW1iZXI6ICR7dW5zdGFrZS5ibG9ja051bWJlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYHVuc3Rha2UudHJhbnNhY3Rpb25IYXNoOiAke3Vuc3Rha2UudHJhbnNhY3Rpb25IYXNofWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcDogJHt1bnN0YWtlLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wfWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS5hcmdzLmFjY2VwdF9pZDogJHt1bnN0YWtlLmFyZ3MuYWNjZXB0X2lkfWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS5hcmdzLnN0YWtlcjogJHt1bnN0YWtlLmFyZ3Muc3Rha2VyfWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS5hcmdzLnJlY2VpdmVyOiAke3Vuc3Rha2UuYXJncy5yZWNlaXZlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYHVuc3Rha2UuYXJncy51bnN0YWtlX2Ftb3VudDogJHt1bnN0YWtlLmFyZ3MudW5zdGFrZV9hbW91bnR9YCk7XG4gIGxvZ2dlci5pbmZvKGB1bnN0YWtlLmFyZ3MucmVkZWVtX2Vhcm5pbmc6ICR7dW5zdGFrZS5hcmdzLnJlZGVlbV9lYXJuaW5nfWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS5hcmdzLndpdGhkcmF3X2V0aDogJHt1bnN0YWtlLmFyZ3Mud2l0aGRyYXdfZXRofWApO1xuICBsb2dnZXIuaW5mbyhgdW5zdGFrZS5hcmdzLnJlcGF5X3VzZGM6ICR7dW5zdGFrZS5hcmdzLnJlcGF5X3VzZGN9YCk7XG4gIGxvZ2dlci5pbmZvKGB1bnN0YWtlLmFyZ3M6ICR7SlNPTi5zdHJpbmdpZnkodW5zdGFrZS5hcmdzKX1gKTtcbiAgbG9nZ2VyLmluZm8oYHVuc3Rha2UuYXJncy5hY2NlcHRfaWQ6ICR7dW5zdGFrZS5hcmdzLmFjY2VwdF9pZH1gKTtcbiAgbG9nZ2VyLmluZm8oYHVuc3Rha2U9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG5cbiAgY29uc3QgcmVjb3JkID0gVW5zdGFrZUFjY2VwdGVkLmNyZWF0ZSh7XG4gICAgaWQ6IHVuc3Rha2UuYXJncy5hY2NlcHRfaWQudG9TdHJpbmcoKSxcbiAgICB0eEhhc2g6IHVuc3Rha2UudHJhbnNhY3Rpb25IYXNoLFxuICAgIHBvb2w6IHVuc3Rha2UuYWRkcmVzcyxcbiAgICBibG9ja0hlaWdodDogQmlnSW50KHVuc3Rha2UuYmxvY2tOdW1iZXIpLFxuICAgIHN0YWtlcjogdW5zdGFrZS5hcmdzLnN0YWtlcixcbiAgICB1bnN0YWtlVG9rZW46IHVuc3Rha2UuYWRkcmVzcyxcbiAgICB1bnN0YWtlQW1vdW50OiB1bnN0YWtlLmFyZ3MudW5zdGFrZV9hbW91bnQudG9CaWdJbnQoKSxcbiAgICByZWRlZW1FYXJuaW5nOiB1bnN0YWtlLmFyZ3MucmVkZWVtX2Vhcm5pbmcudG9CaWdJbnQoKSxcbiAgICB3aXRoZHJhd0V0aDogdW5zdGFrZS5hcmdzLndpdGhkcmF3X2V0aC50b0JpZ0ludCgpLFxuICAgIHJlcGF5VXNkYzogdW5zdGFrZS5hcmdzLnJlcGF5X3VzZGMudG9CaWdJbnQoKSxcbiAgICBzdGF0dXM6IFwicGVuZGluZ1wiLCAvLyBJbml0aWFsIHN0YXR1cyBpcyBwZW5kaW5nXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZShOdW1iZXIodW5zdGFrZS50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKSxcbiAgfSk7XG5cbiAgYXdhaXQgcmVjb3JkLnNhdmUoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVuc3Rha2VGaW5pc2hlZExvZyhmaW5pc2hlZDogVW5zdGFrZUZpbmlzaGVkTG9nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKGBOZXcgdW5zdGFrZSBmaW5pc2hlZCB0cmFuc2FjdGlvbiBsb2cgYXQgYmxvY2sgJHtmaW5pc2hlZC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KGZpbmlzaGVkLmFyZ3MsIFwiTm8gZmluaXNoZWQuYXJnc1wiKTtcblxuICBjb25zdCByZWNvcmQgPSBhd2FpdCBVbnN0YWtlQWNjZXB0ZWQuZ2V0KGZpbmlzaGVkLmFyZ3MuYWNjZXB0X2lkLnRvU3RyaW5nKCkpO1xuXG4gIGlmIChyZWNvcmQgJiYgcmVjb3JkLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICByZWNvcmQuc3RhdHVzID0gXCJzdWNjZXNzXCI7XG4gICAgYXdhaXQgcmVjb3JkLnNhdmUoKTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVmZXJyYWxCb3VuZExvZyhyZWZlcnJhbEJvdW5kOiBSZWZlcnJhbEJvdW5kTG9nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKGBOZXcgcmVmZXJyYWwgYm91bmQgdHJhbnNhY3Rpb24gbG9nIGF0IGJsb2NrICR7cmVmZXJyYWxCb3VuZC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHJlZmVycmFsQm91bmQuYXJncywgXCJObyByZWZlcnJhbEJvdW5kLmFyZ3NcIik7XG5cbiAgY29uc3QgcmVjb3JkID0gUmVmZXJyYWxCb3VuZC5jcmVhdGUoe1xuICAgIGlkOiByZWZlcnJhbEJvdW5kLnRyYW5zYWN0aW9uSGFzaCxcbiAgICBibG9ja0hlaWdodDogQmlnSW50KHJlZmVycmFsQm91bmQuYmxvY2tOdW1iZXIpLFxuICAgIHVzZXI6IHJlZmVycmFsQm91bmQuYXJncy51c2VyLFxuICAgIHJlZmVycmVyOiByZWZlcnJhbEJvdW5kLmFyZ3MucmVmZXJyZXIsXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZShOdW1iZXIocmVmZXJyYWxCb3VuZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKSxcbiAgfSk7XG5cbiAgYXdhaXQgcmVjb3JkLnNhdmUoKTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICIwakJBQUEsSUFBQUEsRUFBQSxHQUFBQyxFQUFBRCxFQUFBLGVBQUFFLEVBQUEsMkJBQUFDLEVBQUEsb0JBQUFDLEVBQUEsc0JBQUFDLEVBQUEsNkJBQUFDLEVBQUEsNkJBQUFDLElBQUEsZUFBQUMsRUFBQVIsR0NFQSxJQUFBUyxFQUFtQixxQkFZTkMsRUFBTixLQUF1QyxDQUUxQyxZQUVJQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNGLENBQ0UsS0FBSyxHQUFLSixFQUNWLEtBQUssR0FBS0MsRUFDVixLQUFLLEtBQU9DLEVBQ1osS0FBSyxNQUFRQyxFQUNiLEtBQUssZ0JBQWtCQyxDQUUzQixDQVVBLElBQUksT0FBZ0IsQ0FDaEIsTUFBTyxVQUNYLENBRUEsTUFBTSxNQUFzQixDQUN4QixJQUFNSixFQUFLLEtBQUssTUFDaEIsRUFBQUssU0FBT0wsSUFBTyxLQUFNLDJDQUEyQyxFQUMvRCxNQUFNLE1BQU0sSUFBSSxXQUFZQSxFQUFHLFNBQVMsRUFBRyxJQUFzQyxDQUNyRixDQUVBLGFBQWEsT0FBT0EsRUFBMkIsSUFDM0MsRUFBQUssU0FBT0wsSUFBTyxLQUFNLDZDQUE2QyxFQUNqRSxNQUFNLE1BQU0sT0FBTyxXQUFZQSxFQUFHLFNBQVMsQ0FBQyxDQUNoRCxDQUVBLGFBQWEsSUFBSUEs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QSxFQUFRLFlBQVksY0FBYyxFQUFJLEdBQUksQ0FDdkUsQ0FBQyxFQUVZLEtBQUssQ0FDcEIsQ0FFQSxlQUFzQkUsRUFBeUJDLEVBQTZDLENBQzFGLE9BQU8sS0FBSyxpREFBaURBLEVBQVMsV0FBVyxFQUFFLEtBQ25GLEVBQUFULFNBQU9TLEVBQVMsS0FBTSxrQkFBa0IsRUFFeEMsSUFBTUMsRUFBUyxNQUFNSCxFQUFnQixJQUFJRSxFQUFTLEtBQUssVUFBVSxTQUFTLENBQUMsRUFFdkVDLEdBQVVBLEVBQU8sU0FBVyxZQUM5QkEsRUFBTyxPQUFTLFVBQ2hCLE1BQU1BLEVBQU8sS0FBSyxFQUV0QixDQUVBLGVBQXNCQyxFQUF1QkMsRUFBZ0QsQ0FDM0YsT0FBTyxLQUFLLCtDQUErQ0EsRUFBYyxXQUFXLEVBQUUsS0FDdEYsRUFBQVosU0FBT1ksRUFBYyxLQUFNLHVCQUF1QixFQVVsRCxNQVJlQyxFQUFjLE9BQU8sQ0FDbEMsR0FBSUQsRUFBYyxnQkFDbEIsWUFBYSxPQUFPQSxFQUFjLFdBQVcsRUFDN0MsS0FBTUEsRUFBYyxLQUFLLEtBQ3pCLFNBQVVBLEVBQWMsS0FBSyxTQUM3QixVQUFXLElBQUksS0FBSyxPQUFPQSxFQUFjLFlBQVksY0FBYyxFQUFJLEdBQUksQ0FDN0UsQ0FBQyxFQUVZLEtBQUssQ0FDcEIiLAogICJuYW1lcyI6IFsiaW5kZXhfZXhwb3J0cyIsICJfX2V4cG9ydCIsICJoYW5kbGVMb2ciLCAiaGFuZGxlUmVmZXJyYWxCb3VuZExvZyIsICJoYW5kbGVTdGFrZWRMb2ciLCAiaGFuZGxlVHJhbnNhY3Rpb24iLCAiaGFuZGxlVW5zdGFrZUFjY2VwdGVkTG9nIiwgImhhbmRsZVVuc3Rha2VGaW5pc2hlZExvZyIsICJfX3RvQ29tbW9uSlMiLCAiaW1wb3J0X2Fzc2VydCIsICJUcmFuc2ZlciIsICJpZCIsICJ0byIsICJmcm9tIiwgInZhbHVlIiwgImNvbnRyYWN0QWRkcmVzcyIsICJhc3NlcnQiLCAicmVjb3JkIiwgImZpbHRlciIsICJvcHRpb25zIiwgImVudGl0eSIsICJpbXBvcnRfYXNzZXJ0IiwgIkFwcHJvdmFsIiwgImlkIiwgIm93bmVyIiwgInNwZW5kZXIiLCAidmFsdWUiLCAiY29udHJhY3RBZGRyZXNzIiwgImFzc2VydCIsICJyZWNvcmQiLCAiZmlsdGVyIiwgIm9wdGlvbnMiLCAiZW50aXR5IiwgImltcG9ydF9hc3NlcnQiLCAiU3Rha2VkUmVjb3JkIiwgImlkIiwgImFzc2VydCIsICJyZWNvcmQiLCAiZmlsdGVyIiwgIm9wdGlvbnMiLCAiZW50aXR5IiwgImltcG9ydF9hc3NlcnQiLCAiU3Rha2VyIiwgImlkIiwgImFzc2VydCIsICJyZWNvcmQiLCAiZmlsdGVyIiwgIm9wdGlvbnMiLCAiZW50aXR5IiwgImltcG9ydF9hc3NlcnQiLCAiVW5zdGFrZUFjY2VwdGVkIiwgImlkIiwgImFzc2VydCIsICJyZWNvcmQiLCAiZmlsdGVyIiwgIm9wdGlvbnMiLCAiZW50aXR5IiwgImltcG9ydF9hc3NlcnQiLCAiUmVmZXJyYWxCb3VuZCIsICJpZCIsICJ1c2VyIiwgInJlZmVycmVyIiwgImFzc2VydCIsICJyZWNvcmQiLCAib3B0aW9ucyIsICJmaWx0ZXIiLCAiZW50aXR5IiwgImltcG9ydF9hc3NlcnQiLCAiaGFuZGxlTG9nIiwgImxvZyIsICJhc3NlcnQiLCAiVHJhbnNmZXIiLCAiaGFuZGxlVHJhbnNhY3Rpb24iLCAidHgiLCAiQXBwcm92YWwiLCAiaW1wb3J0X2Fzc2VydCIsICJoYW5kbGVTdGFrZWRMb2ciLCAic3Rha2VkIiwgImFzc2VydCIsICJTdGFrZWRSZWNvcmQiLCAic3Rha2VyX2lkIiwgInN0YWtlciIsICJTdGFrZXIiLCAiaGFuZGxlVW5zdGFrZUFjY2VwdGVkTG9nIiwgInVuc3Rha2UiLCAiVW5zdGFrZUFjY2VwdGVkIiwgImhhbmRsZVVuc3Rha2VGaW5pc2hlZExvZyIsICJmaW5pc2hlZCIsICJyZWNvcmQiLCAiaGFuZGxlUmVmZXJyYWxCb3VuZExvZyIsICJyZWZlcnJhbEJvdW5kIiwgIlJlZmVycmFsQm91bmQiXQp9Cg==
