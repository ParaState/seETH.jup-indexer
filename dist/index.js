"use strict";var f=Object.create;var u=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var q=(e,t)=>{for(var s in t)u(e,s,{get:t[s],enumerable:!0})},b=(e,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of P(t))!k.call(e,r)&&r!==s&&u(e,r,{get:()=>t[r],enumerable:!(o=R(t,r))||o.enumerable});return e};var n=(e,t,s)=>(s=e!=null?f(y(e)):{},b(t||!e||!e.__esModule?u(s,"default",{value:e,enumerable:!0}):s,e)),D=e=>b(u({},"__esModule",{value:!0}),e);var I={};q(I,{handleDeposit:()=>$,handleRedeemApproved:()=>x,handleRedeemCancelled:()=>N,handleRedeemExecuted:()=>C,handleRedeemRequested:()=>W,handleWithdraw:()=>v});module.exports=D(I);var h=n(require("assert"));var g=n(require("assert")),d=class{constructor(t,s,o,r){this.id=t,this.owner=s,this.assets=o,this.shares=r}get _name(){return"Deposit"}async save(){let t=this.id;(0,g.default)(t!==null,"Cannot save Deposit entity without an ID"),await store.set("Deposit",t.toString(),this)}static async remove(t){(0,g.default)(t!==null,"Cannot remove Deposit entity without an ID"),await store.remove("Deposit",t.toString())}static async get(t){(0,g.default)(t!=null,"Cannot get Deposit entity without an ID");let s=await store.get("Deposit",t.toString());if(s)return this.create(s)}static async getByOwner(t,s){return(await store.getByField("Deposit","owner",t,s)).map(r=>this.create(r))}static async getByFields(t,s){return(await store.getByFields("Deposit",t,s)).map(r=>this.create(r))}static create(t){(0,g.default)(t.id!==void 0&&t.id!==null,"id must be provided");let s=new this(t.id,t.owner,t.assets,t.shares);return Object.assign(s,t),s}};var c=n(require("assert")),p=class{constructor(t,s,o,r,a,w){this.id=t,this.sender=s,this.receiver=o,this.owner=r,this.assets=a,this.shares=w}get _name(){return"Withdraw"}async save(){let t=this.id;(0,c.default)(t!==null,"Cannot save Withdraw entity without an ID"),await store.set("Withdraw",t.toString(),this)}static async remove(t){(0,c.default)(t!==null,"Cannot remove Withdraw entity without an ID"),await store.remove("Withdraw",t.toString())}static async get(t){(0,c.default)(t!=null,"Cannot get Withdraw entity without an ID");let s=await store.get("Withdraw",t.toString());if(s)return this.create(s)}static async getBySender(t,s){return(await store.getByField("Withdraw","sender",t,s)).map(r=>this.create(r))}static async getByReceiver(t,s){return(await store.getByField("Withdraw","receiver",t,s)).map(r=>this.create(r))}static async getByOwner(t,s){return(await store.getByField("Withdraw","owner",t,s)).map(r=>this.create(r))}static async getByFields(t,s){return(await store.getByFields("Withdraw",t,s)).map(r=>this.create(r))}static create(t){(0,c.default)(t.id!==void 0&&t.id!==null,"id must be provided");let s=new this(t.id,t.sender,t.receiver,t.owner,t.assets,t.shares);return Object.assign(s,t),s}};var l=n(require("assert")),i=class{constructor(t,s,o,r,a){this.id=t,this.owner=s,this.shares=o,this.requestTime=r,this.status=a}get _name(){return"RedeemRequest"}async save(){let t=this.id;(0,l.default)(t!==null,"Cannot save RedeemRequest entity without an ID"),await store.set("RedeemRequest",t.toString(),this)}static async remove(t){(0,l.default)(t!==null,"Cannot remove RedeemRequest entity without an ID"),await store.remove("RedeemRequest",t.toString())}static async get(t){(0,l.default)(t!=null,"Cannot get RedeemRequest entity without an ID");let s=await store.get("RedeemRequest",t.toString());if(s)return this.create(s)}static async getByOwner(t,s){return(await store.getByField("RedeemRequest","owner",t,s)).map(r=>this.create(r))}static async getByStatus(t,s){return(await store.getByField("RedeemRequest","status",t,s)).map(r=>this.create(r))}static async getByFields(t,s){return(await store.getByFields("RedeemRequest",t,s)).map(r=>this.create(r))}static create(t){(0,l.default)(t.id!==void 0&&t.id!==null,"id must be provided");let s=new this(t.id,t.owner,t.shares,t.requestTime,t.status);return Object.assign(s,t),s}};async function $(e){logger.info(`New deposit transaction log at block ${e.blockNumber}`),(0,h.default)(e.args,"No log.args"),logger.info("handleDeposit========================================"),logger.info(`handleDeposit.address: ${e.address}`),logger.info(`handleDeposit.blockNumber: ${e.blockNumber}`),logger.info(`handleDeposit.transactionHash: ${e.transactionHash}`),logger.info(`handleDeposit.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`handleDeposit.args.sender: ${e.args.sender}`),logger.info(`handleDeposit.args.owner: ${e.args.owner}`),logger.info(`handleDeposit.args.assets: ${e.args.assets}`),logger.info(`handleDeposit.args.shares: ${e.args.shares}`),logger.info("handleDeposit========================================"),await d.create({id:e.transactionHash,blockHeight:BigInt(e.blockNumber),owner:e.args.owner.toString(),assets:BigInt(e.args.assets.toString()),shares:BigInt(e.args.shares.toString()),timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save()}async function v(e){logger.info(`New withdraw transaction log at block ${e.blockNumber}`),(0,h.default)(e.args,"No withdraw.args"),logger.info("handleWithdraw========================================"),logger.info(`handleWithdraw.address: ${e.address}`),logger.info(`handleWithdraw.blockNumber: ${e.blockNumber}`),logger.info(`handleWithdraw.transactionHash: ${e.transactionHash}`),logger.info(`handleWithdraw.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`handleWithdraw.args.sender: ${e.args.sender}`),logger.info(`handleWithdraw.args.receiver: ${e.args.receiver}`),logger.info(`handleWithdraw.args.owner: ${e.args.owner}`),logger.info(`handleWithdraw.args.assets: ${e.args.assets}`),logger.info(`handleWithdraw.args.shares: ${e.args.shares}`),logger.info("handleWithdraw========================================"),await p.create({id:e.transactionHash,blockHeight:BigInt(e.blockNumber),sender:e.args.sender.toString(),receiver:e.args.receiver.toString(),owner:e.args.owner.toString(),assets:BigInt(e.args.assets.toString()),shares:BigInt(e.args.shares.toString()),timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save()}var m=n(require("assert"));async function W(e){logger.info(`New redeemRequested transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemRequested.args"),logger.info("redeemRequested========================================"),logger.info(`redeemRequested.address: ${e.address}`),logger.info(`redeemRequested.blockNumber: ${e.blockNumber}`),logger.info(`redeemRequested.transactionHash: ${e.transactionHash}`),logger.info(`redeemRequested.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemRequested.args.requestId: ${e.args.requestId}`),logger.info(`redeemRequested.args.owner: ${e.args.owner}`),logger.info(`redeemRequested.args.shares: ${e.args.shares}`),logger.info("redeemRequested========================================");let t=e.args.requestId.toString(),s=e.args.owner,o=BigInt(e.args.shares.toString()),r=BigInt(e.transaction.blockTimestamp.toString()),a=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Creating new RedeemRequest: ${t} for owner: ${s} with shares: ${o}`),await i.create({id:t,blockHeight:BigInt(e.blockNumber),owner:s,shares:o,requestTime:r,status:"pending",createdAt:a,updatedAt:a,requestedAt:a,requestedTxHash:e.transactionHash}).save()}async function N(e){logger.info(`New redeemCancelled transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemCancelled.args"),logger.info("redeemCancelled========================================"),logger.info(`redeemCancelled.address: ${e.address}`),logger.info(`redeemCancelled.blockNumber: ${e.blockNumber}`),logger.info(`redeemCancelled.transactionHash: ${e.transactionHash}`),logger.info(`redeemCancelled.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemCancelled.args.requestId: ${e.args.requestId}`),logger.info(`redeemCancelled.args.owner: ${e.args.owner}`),logger.info(`redeemCancelled.args.shares: ${e.args.shares}`),logger.info("redeemCancelled========================================");let t=e.args.requestId.toString(),s=new Date(Number(e.transaction.blockTimestamp)*1e3),o=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Cancelling RedeemRequest: ${t}`);let r=await i.get(t);if(r){if(r.status==="cancelled"){logger.warn(`RedeemRequest ${t} already cancelled`);return}r.status="cancelled",r.updatedAt=s,r.cancelledTxHash=e.transactionHash,r.cancelledAt=o,await r.save()}else logger.warn(`RedeemRequest ${t} not found for cancellation`)}async function x(e){logger.info(`New redeemApproved transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemApproved.args"),logger.info("redeemApproved========================================"),logger.info(`redeemApproved.address: ${e.address}`),logger.info(`redeemApproved.blockNumber: ${e.blockNumber}`),logger.info(`redeemApproved.transactionHash: ${e.transactionHash}`),logger.info(`redeemApproved.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemApproved.args.requestId: ${e.args.requestId}`),logger.info(`redeemApproved.args.owner: ${e.args.owner}`),logger.info(`redeemApproved.args.shares: ${e.args.shares}`),logger.info("redeemApproved========================================");let t=e.args.requestId.toString(),s=new Date(Number(e.transaction.blockTimestamp)*1e3),o=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Approving RedeemRequest: ${t}`);let r=await i.get(t);if(r){if(r.status==="approved"){logger.warn(`RedeemRequest ${t} already approved`);return}r.status="approved",r.updatedAt=s,r.approvedTxHash=e.transactionHash,r.approvedAt=o,await r.save()}else logger.warn(`RedeemRequest ${t} not found for approval`)}async function C(e){logger.info(`New redeemExecuted transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemExecuted.args"),logger.info("redeemExecuted========================================"),logger.info(`redeemExecuted.address: ${e.address}`),logger.info(`redeemExecuted.blockNumber: ${e.blockNumber}`),logger.info(`redeemExecuted.transactionHash: ${e.transactionHash}`),logger.info(`redeemExecuted.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemExecuted.args.requestId: ${e.args.requestId}`),logger.info(`redeemExecuted.args.owner: ${e.args.owner}`),logger.info(`redeemExecuted.args.shares: ${e.args.shares}`),logger.info(`redeemExecuted.args.assetsPaid: ${e.args.assetsPaid}`),logger.info("redeemExecuted========================================");let t=e.args.requestId.toString(),s=BigInt(e.args.assetsPaid.toString()),o=new Date(Number(e.transaction.blockTimestamp)*1e3),r=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Executing RedeemRequest: ${t} with assetsPaid: ${s}`);let a=await i.get(t);if(a){if(a.status==="executed"){logger.warn(`RedeemRequest ${t} already executed`);return}a.status="executed",a.assetsPaid=s,a.updatedAt=o,a.executedTxHash=e.transactionHash,a.executedAt=r,await a.save()}else logger.warn(`RedeemRequest ${t} not found for execution`)}0&&(module.exports={handleDeposit,handleRedeemApproved,handleRedeemCancelled,handleRedeemExecuted,handleRedeemRequested,handleWithdraw});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIiwgIi4uL3NyYy9tYXBwaW5ncy9zZWV0aFYySGFuZGxlcnMudHMiLCAiLi4vc3JjL3R5cGVzL21vZGVscy9EZXBvc2l0LnRzIiwgIi4uL3NyYy90eXBlcy9tb2RlbHMvV2l0aGRyYXcudHMiLCAiLi4vc3JjL3R5cGVzL21vZGVscy9SZWRlZW1SZXF1ZXN0LnRzIiwgIi4uL3NyYy9tYXBwaW5ncy9zZWV0aFJlZGVlbUhhbmRsZXJzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvL0V4cG9ydHMgYWxsIGhhbmRsZXIgZnVuY3Rpb25zXG5leHBvcnQgKiBmcm9tIFwiLi9tYXBwaW5ncy9zZWV0aFYySGFuZGxlcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21hcHBpbmdzL3NlZXRoUmVkZWVtSGFuZGxlcnNcIjtcbiIsICJpbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIjtcbmltcG9ydCB7IERlcG9zaXQsIFdpdGhkcmF3IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBEZXBvc2l0TG9nLCBXaXRoZHJhd0xvZyB9IGZyb20gXCIuLi90eXBlcy9hYmktaW50ZXJmYWNlcy9TZUVUSFYyXCI7XG5cbi8vIFNlRVRIIFYyIERlcG9zaXQgZXZlbnRcbi8vIGV2ZW50IERlcG9zaXQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IGFzc2V0cywgdWludDI1NiBzaGFyZXMpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZURlcG9zaXQoZGVwb3NpdDogRGVwb3NpdExvZyk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IGRlcG9zaXQgdHJhbnNhY3Rpb24gbG9nIGF0IGJsb2NrICR7ZGVwb3NpdC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KGRlcG9zaXQuYXJncywgXCJObyBsb2cuYXJnc1wiKTtcblxuICBsb2dnZXIuaW5mbyhgaGFuZGxlRGVwb3NpdD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQuYWRkcmVzczogJHtkZXBvc2l0LmFkZHJlc3N9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LmJsb2NrTnVtYmVyOiAke2RlcG9zaXQuYmxvY2tOdW1iZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LnRyYW5zYWN0aW9uSGFzaDogJHtkZXBvc2l0LnRyYW5zYWN0aW9uSGFzaH1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXA6ICR7ZGVwb3NpdC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcH1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQuYXJncy5zZW5kZXI6ICR7ZGVwb3NpdC5hcmdzLnNlbmRlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQuYXJncy5vd25lcjogJHtkZXBvc2l0LmFyZ3Mub3duZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LmFyZ3MuYXNzZXRzOiAke2RlcG9zaXQuYXJncy5hc3NldHN9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LmFyZ3Muc2hhcmVzOiAke2RlcG9zaXQuYXJncy5zaGFyZXN9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IERlcG9zaXQuY3JlYXRlKHtcbiAgICBpZDogZGVwb3NpdC50cmFuc2FjdGlvbkhhc2gsXG4gICAgYmxvY2tIZWlnaHQ6IEJpZ0ludChkZXBvc2l0LmJsb2NrTnVtYmVyKSxcbiAgICBvd25lcjogZGVwb3NpdC5hcmdzLm93bmVyLnRvU3RyaW5nKCksXG4gICAgYXNzZXRzOiBCaWdJbnQoZGVwb3NpdC5hcmdzLmFzc2V0cy50b1N0cmluZygpKSxcbiAgICBzaGFyZXM6IEJpZ0ludChkZXBvc2l0LmFyZ3Muc2hhcmVzLnRvU3RyaW5nKCkpLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKGRlcG9zaXQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXApICogMTAwMCksXG4gIH0pO1xuXG4gIGF3YWl0IHJlY29yZC5zYXZlKCk7XG59XG5cbi8vIFNlRVRIIFYyIFdpdGhkcmF3IGV2ZW50XG4vLyBldmVudCBXaXRoZHJhdyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIGluZGV4ZWQgcmVjZWl2ZXIsIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBhc3NldHMsIHVpbnQyNTYgc2hhcmVzKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVXaXRoZHJhdyh3aXRoZHJhdzogV2l0aGRyYXdMb2cpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbG9nZ2VyLmluZm8oYE5ldyB3aXRoZHJhdyB0cmFuc2FjdGlvbiBsb2cgYXQgYmxvY2sgJHt3aXRoZHJhdy5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHdpdGhkcmF3LmFyZ3MsIFwiTm8gd2l0aGRyYXcuYXJnc1wiKTtcblxuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy5hZGRyZXNzOiAke3dpdGhkcmF3LmFkZHJlc3N9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy5ibG9ja051bWJlcjogJHt3aXRoZHJhdy5ibG9ja051bWJlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZVdpdGhkcmF3LnRyYW5zYWN0aW9uSGFzaDogJHt3aXRoZHJhdy50cmFuc2FjdGlvbkhhc2h9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcDogJHt3aXRoZHJhdy50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcH1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZVdpdGhkcmF3LmFyZ3Muc2VuZGVyOiAke3dpdGhkcmF3LmFyZ3Muc2VuZGVyfWApO1xuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXcuYXJncy5yZWNlaXZlcjogJHt3aXRoZHJhdy5hcmdzLnJlY2VpdmVyfWApO1xuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXcuYXJncy5vd25lcjogJHt3aXRoZHJhdy5hcmdzLm93bmVyfWApO1xuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXcuYXJncy5hc3NldHM6ICR7d2l0aGRyYXcuYXJncy5hc3NldHN9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy5hcmdzLnNoYXJlczogJHt3aXRoZHJhdy5hcmdzLnNoYXJlc31gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZVdpdGhkcmF3PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IFdpdGhkcmF3LmNyZWF0ZSh7XG4gICAgaWQ6IHdpdGhkcmF3LnRyYW5zYWN0aW9uSGFzaCxcbiAgICBibG9ja0hlaWdodDogQmlnSW50KHdpdGhkcmF3LmJsb2NrTnVtYmVyKSxcbiAgICBzZW5kZXI6IHdpdGhkcmF3LmFyZ3Muc2VuZGVyLnRvU3RyaW5nKCksXG4gICAgcmVjZWl2ZXI6IHdpdGhkcmF3LmFyZ3MucmVjZWl2ZXIudG9TdHJpbmcoKSxcbiAgICBvd25lcjogd2l0aGRyYXcuYXJncy5vd25lci50b1N0cmluZygpLFxuICAgIGFzc2V0czogQmlnSW50KHdpdGhkcmF3LmFyZ3MuYXNzZXRzLnRvU3RyaW5nKCkpLFxuICAgIHNoYXJlczogQmlnSW50KHdpdGhkcmF3LmFyZ3Muc2hhcmVzLnRvU3RyaW5nKCkpLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKHdpdGhkcmF3LnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApLFxuICB9KTtcblxuICBhd2FpdCByZWNvcmQuc2F2ZSgpO1xufVxuIiwgIi8vIEF1dG8tZ2VuZXJhdGVkICwgRE8gTk9UIEVESVRcbmltcG9ydCB7RW50aXR5LCBGdW5jdGlvblByb3BlcnR5TmFtZXMsIEZpZWxkc0V4cHJlc3Npb24sIEdldE9wdGlvbnMgfSBmcm9tIFwiQHN1YnFsL3R5cGVzLWNvcmVcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuXG5cbmV4cG9ydCB0eXBlIERlcG9zaXRQcm9wcyA9IE9taXQ8RGVwb3NpdCwgTm9uTnVsbGFibGU8RnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPERlcG9zaXQ+PiB8ICdfbmFtZSc+O1xuXG4vKlxuICogQ29tcGF0IHR5cGVzIGFsbG93cyBmb3Igc3VwcG9ydCBvZiBhbHRlcm5hdGl2ZSBgaWRgIHR5cGVzIHdpdGhvdXQgcmVmYWN0b3JpbmcgdGhlIG5vZGVcbiAqL1xudHlwZSBDb21wYXREZXBvc2l0UHJvcHMgPSBPbWl0PERlcG9zaXRQcm9wcywgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG50eXBlIENvbXBhdEVudGl0eSA9IE9taXQ8RW50aXR5LCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcblxuZXhwb3J0IGNsYXNzIERlcG9zaXQgaW1wbGVtZW50cyBDb21wYXRFbnRpdHkge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIFxuICAgICAgICBpZDogc3RyaW5nLFxuICAgICAgICBvd25lcjogc3RyaW5nLFxuICAgICAgICBhc3NldHM6IGJpZ2ludCxcbiAgICAgICAgc2hhcmVzOiBiaWdpbnQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmFzc2V0cyA9IGFzc2V0cztcbiAgICAgICAgdGhpcy5zaGFyZXMgPSBzaGFyZXM7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgb3duZXI6IHN0cmluZztcbiAgICBwdWJsaWMgYXNzZXRzOiBiaWdpbnQ7XG4gICAgcHVibGljIHNoYXJlczogYmlnaW50O1xuICAgIHB1YmxpYyB0aW1lc3RhbXA/OiBEYXRlO1xuICAgIFxuXG4gICAgZ2V0IF9uYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnRGVwb3NpdCc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgRGVwb3NpdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdEZXBvc2l0JywgaWQudG9TdHJpbmcoKSwgdGhpcyBhcyB1bmtub3duIGFzIENvbXBhdERlcG9zaXRQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIERlcG9zaXQgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnRGVwb3NpdCcsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8RGVwb3NpdCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgRGVwb3NpdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdEZXBvc2l0JywgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBEZXBvc2l0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5T3duZXIob3duZXI6IHN0cmluZywgb3B0aW9uczogR2V0T3B0aW9uczxDb21wYXREZXBvc2l0UHJvcHM+KTogUHJvbWlzZTxEZXBvc2l0W10+IHtcbiAgICAgICAgLy8gSW5wdXRzIG11c3QgYmUgY2FzdCBhcyB0aGUgc3RvcmUgaW50ZXJmYWNlIGhhcyBub3QgYmVlbiB1cGRhdGVkIHRvIHN1cHBvcnQgYWx0ZXJuYXRpdmUgSUQgdHlwZXNcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHN0b3JlLmdldEJ5RmllbGQ8Q29tcGF0RGVwb3NpdFByb3BzPignRGVwb3NpdCcsICdvd25lcicsIG93bmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBEZXBvc2l0UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgZW50aXRpZXMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXJzIGFuZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogXHUyNkEwXHVGRTBGIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJzdCBzZWFyY2ggY2FjaGUgZGF0YSBmb2xsb3dlZCBieSBEQiBkYXRhLiBQbGVhc2UgY29uc2lkZXIgdGhpcyB3aGVuIHVzaW5nIG9yZGVyIGFuZCBvZmZzZXQgb3B0aW9ucy5cdTI2QTBcdUZFMEZcbiAgICAgKiAqL1xuICAgIHN0YXRpYyBhc3luYyBnZXRCeUZpZWxkcyhmaWx0ZXI6IEZpZWxkc0V4cHJlc3Npb248RGVwb3NpdFByb3BzPltdLCBvcHRpb25zOiBHZXRPcHRpb25zPERlcG9zaXRQcm9wcz4pOiBQcm9taXNlPERlcG9zaXRbXT4ge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZHM8Q29tcGF0RGVwb3NpdFByb3BzPignRGVwb3NpdCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdERlcG9zaXRQcm9wcz5bXSwgb3B0aW9ucyBhcyB1bmtub3duIGFzIEdldE9wdGlvbnM8Q29tcGF0RGVwb3NpdFByb3BzPik7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgRGVwb3NpdFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IERlcG9zaXRQcm9wcyk6IERlcG9zaXQge1xuICAgICAgICBhc3NlcnQocmVjb3JkLmlkICE9PSB1bmRlZmluZWQgJiYgcmVjb3JkLmlkICE9PSBudWxsLCBcImlkIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyB0aGlzKFxuICAgICAgICAgICAgcmVjb3JkLmlkLFxuICAgICAgICAgICAgcmVjb3JkLm93bmVyLFxuICAgICAgICAgICAgcmVjb3JkLmFzc2V0cyxcbiAgICAgICAgICAgIHJlY29yZC5zaGFyZXMsXG4gICAgICAgICk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZW50aXR5LHJlY29yZCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxufVxuIiwgIi8vIEF1dG8tZ2VuZXJhdGVkICwgRE8gTk9UIEVESVRcbmltcG9ydCB7RW50aXR5LCBGdW5jdGlvblByb3BlcnR5TmFtZXMsIEZpZWxkc0V4cHJlc3Npb24sIEdldE9wdGlvbnMgfSBmcm9tIFwiQHN1YnFsL3R5cGVzLWNvcmVcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuXG5cbmV4cG9ydCB0eXBlIFdpdGhkcmF3UHJvcHMgPSBPbWl0PFdpdGhkcmF3LCBOb25OdWxsYWJsZTxGdW5jdGlvblByb3BlcnR5TmFtZXM8V2l0aGRyYXc+PiB8ICdfbmFtZSc+O1xuXG4vKlxuICogQ29tcGF0IHR5cGVzIGFsbG93cyBmb3Igc3VwcG9ydCBvZiBhbHRlcm5hdGl2ZSBgaWRgIHR5cGVzIHdpdGhvdXQgcmVmYWN0b3JpbmcgdGhlIG5vZGVcbiAqL1xudHlwZSBDb21wYXRXaXRoZHJhd1Byb3BzID0gT21pdDxXaXRoZHJhd1Byb3BzLCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcbnR5cGUgQ29tcGF0RW50aXR5ID0gT21pdDxFbnRpdHksICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xuXG5leHBvcnQgY2xhc3MgV2l0aGRyYXcgaW1wbGVtZW50cyBDb21wYXRFbnRpdHkge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIFxuICAgICAgICBpZDogc3RyaW5nLFxuICAgICAgICBzZW5kZXI6IHN0cmluZyxcbiAgICAgICAgcmVjZWl2ZXI6IHN0cmluZyxcbiAgICAgICAgb3duZXI6IHN0cmluZyxcbiAgICAgICAgYXNzZXRzOiBiaWdpbnQsXG4gICAgICAgIHNoYXJlczogYmlnaW50LFxuICAgICkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuc2VuZGVyID0gc2VuZGVyO1xuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5hc3NldHMgPSBhc3NldHM7XG4gICAgICAgIHRoaXMuc2hhcmVzID0gc2hhcmVzO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgaWQ6IHN0cmluZztcbiAgICBwdWJsaWMgYmxvY2tIZWlnaHQ/OiBiaWdpbnQ7XG4gICAgcHVibGljIHNlbmRlcjogc3RyaW5nO1xuICAgIHB1YmxpYyByZWNlaXZlcjogc3RyaW5nO1xuICAgIHB1YmxpYyBvd25lcjogc3RyaW5nO1xuICAgIHB1YmxpYyBhc3NldHM6IGJpZ2ludDtcbiAgICBwdWJsaWMgc2hhcmVzOiBiaWdpbnQ7XG4gICAgcHVibGljIHRpbWVzdGFtcD86IERhdGU7XG4gICAgXG5cbiAgICBnZXQgX25hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdXaXRoZHJhdyc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgV2l0aGRyYXcgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnNldCgnV2l0aGRyYXcnLCBpZC50b1N0cmluZygpLCB0aGlzIGFzIHVua25vd24gYXMgQ29tcGF0V2l0aGRyYXdQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIFdpdGhkcmF3IGVudGl0eSB3aXRob3V0IGFuIElEXCIpO1xuICAgICAgICBhd2FpdCBzdG9yZS5yZW1vdmUoJ1dpdGhkcmF3JywgaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTxXaXRoZHJhdyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgV2l0aGRyYXcgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IHN0b3JlLmdldCgnV2l0aGRyYXcnLCBpZC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFdpdGhkcmF3UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5U2VuZGVyKHNlbmRlcjogc3RyaW5nLCBvcHRpb25zOiBHZXRPcHRpb25zPENvbXBhdFdpdGhkcmF3UHJvcHM+KTogUHJvbWlzZTxXaXRoZHJhd1tdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFdpdGhkcmF3UHJvcHM+KCdXaXRoZHJhdycsICdzZW5kZXInLCBzZW5kZXIsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFdpdGhkcmF3UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlSZWNlaXZlcihyZWNlaXZlcjogc3RyaW5nLCBvcHRpb25zOiBHZXRPcHRpb25zPENvbXBhdFdpdGhkcmF3UHJvcHM+KTogUHJvbWlzZTxXaXRoZHJhd1tdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFdpdGhkcmF3UHJvcHM+KCdXaXRoZHJhdycsICdyZWNlaXZlcicsIHJlY2VpdmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBXaXRoZHJhd1Byb3BzKSk7XG4gICAgfVxuICAgIFxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5T3duZXIob3duZXI6IHN0cmluZywgb3B0aW9uczogR2V0T3B0aW9uczxDb21wYXRXaXRoZHJhd1Byb3BzPik6IFByb21pc2U8V2l0aGRyYXdbXT4ge1xuICAgICAgICAvLyBJbnB1dHMgbXVzdCBiZSBjYXN0IGFzIHRoZSBzdG9yZSBpbnRlcmZhY2UgaGFzIG5vdCBiZWVuIHVwZGF0ZWQgdG8gc3VwcG9ydCBhbHRlcm5hdGl2ZSBJRCB0eXBlc1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZDxDb21wYXRXaXRoZHJhd1Byb3BzPignV2l0aGRyYXcnLCAnb3duZXInLCBvd25lciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgV2l0aGRyYXdQcm9wcykpO1xuICAgIH1cbiAgICBcblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlbnRpdGllcyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGZpbHRlcnMgYW5kIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBcdTI2QTBcdUZFMEYgVGhpcyBmdW5jdGlvbiB3aWxsIGZpcnN0IHNlYXJjaCBjYWNoZSBkYXRhIGZvbGxvd2VkIGJ5IERCIGRhdGEuIFBsZWFzZSBjb25zaWRlciB0aGlzIHdoZW4gdXNpbmcgb3JkZXIgYW5kIG9mZnNldCBvcHRpb25zLlx1MjZBMFx1RkUwRlxuICAgICAqICovXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5RmllbGRzKGZpbHRlcjogRmllbGRzRXhwcmVzc2lvbjxXaXRoZHJhd1Byb3BzPltdLCBvcHRpb25zOiBHZXRPcHRpb25zPFdpdGhkcmF3UHJvcHM+KTogUHJvbWlzZTxXaXRoZHJhd1tdPiB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkczxDb21wYXRXaXRoZHJhd1Byb3BzPignV2l0aGRyYXcnLCBmaWx0ZXIgIGFzIHVua25vd24gYXMgRmllbGRzRXhwcmVzc2lvbjxDb21wYXRXaXRoZHJhd1Byb3BzPltdLCBvcHRpb25zIGFzIHVua25vd24gYXMgR2V0T3B0aW9uczxDb21wYXRXaXRoZHJhd1Byb3BzPik7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgV2l0aGRyYXdQcm9wcykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUocmVjb3JkOiBXaXRoZHJhd1Byb3BzKTogV2l0aGRyYXcge1xuICAgICAgICBhc3NlcnQocmVjb3JkLmlkICE9PSB1bmRlZmluZWQgJiYgcmVjb3JkLmlkICE9PSBudWxsLCBcImlkIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyB0aGlzKFxuICAgICAgICAgICAgcmVjb3JkLmlkLFxuICAgICAgICAgICAgcmVjb3JkLnNlbmRlcixcbiAgICAgICAgICAgIHJlY29yZC5yZWNlaXZlcixcbiAgICAgICAgICAgIHJlY29yZC5vd25lcixcbiAgICAgICAgICAgIHJlY29yZC5hc3NldHMsXG4gICAgICAgICAgICByZWNvcmQuc2hhcmVzLFxuICAgICAgICApO1xuICAgICAgICBPYmplY3QuYXNzaWduKGVudGl0eSxyZWNvcmQpO1xuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgIH1cbn1cbiIsICIvLyBBdXRvLWdlbmVyYXRlZCAsIERPIE5PVCBFRElUXG5pbXBvcnQge0VudGl0eSwgRnVuY3Rpb25Qcm9wZXJ0eU5hbWVzLCBGaWVsZHNFeHByZXNzaW9uLCBHZXRPcHRpb25zIH0gZnJvbSBcIkBzdWJxbC90eXBlcy1jb3JlXCI7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cblxuXG5leHBvcnQgdHlwZSBSZWRlZW1SZXF1ZXN0UHJvcHMgPSBPbWl0PFJlZGVlbVJlcXVlc3QsIE5vbk51bGxhYmxlPEZ1bmN0aW9uUHJvcGVydHlOYW1lczxSZWRlZW1SZXF1ZXN0Pj4gfCAnX25hbWUnPjtcblxuLypcbiAqIENvbXBhdCB0eXBlcyBhbGxvd3MgZm9yIHN1cHBvcnQgb2YgYWx0ZXJuYXRpdmUgYGlkYCB0eXBlcyB3aXRob3V0IHJlZmFjdG9yaW5nIHRoZSBub2RlXG4gKi9cbnR5cGUgQ29tcGF0UmVkZWVtUmVxdWVzdFByb3BzID0gT21pdDxSZWRlZW1SZXF1ZXN0UHJvcHMsICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xudHlwZSBDb21wYXRFbnRpdHkgPSBPbWl0PEVudGl0eSwgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG5cbmV4cG9ydCBjbGFzcyBSZWRlZW1SZXF1ZXN0IGltcGxlbWVudHMgQ29tcGF0RW50aXR5IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBcbiAgICAgICAgaWQ6IHN0cmluZyxcbiAgICAgICAgb3duZXI6IHN0cmluZyxcbiAgICAgICAgc2hhcmVzOiBiaWdpbnQsXG4gICAgICAgIHJlcXVlc3RUaW1lOiBiaWdpbnQsXG4gICAgICAgIHN0YXR1czogc3RyaW5nLFxuICAgICkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5zaGFyZXMgPSBzaGFyZXM7XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWUgPSByZXF1ZXN0VGltZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgb3duZXI6IHN0cmluZztcbiAgICBwdWJsaWMgc2hhcmVzOiBiaWdpbnQ7XG4gICAgcHVibGljIHJlcXVlc3RUaW1lOiBiaWdpbnQ7XG4gICAgcHVibGljIHN0YXR1czogc3RyaW5nO1xuICAgIHB1YmxpYyBhc3NldHNQYWlkPzogYmlnaW50O1xuICAgIHB1YmxpYyBjcmVhdGVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyB1cGRhdGVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyByZXF1ZXN0ZWRBdD86IERhdGU7XG4gICAgcHVibGljIGFwcHJvdmVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyBleGVjdXRlZEF0PzogRGF0ZTtcbiAgICBwdWJsaWMgY2FuY2VsbGVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyByZXF1ZXN0ZWRUeEhhc2g/OiBzdHJpbmc7XG4gICAgcHVibGljIGNhbmNlbGxlZFR4SGFzaD86IHN0cmluZztcbiAgICBwdWJsaWMgYXBwcm92ZWRUeEhhc2g/OiBzdHJpbmc7XG4gICAgcHVibGljIGV4ZWN1dGVkVHhIYXNoPzogc3RyaW5nO1xuICAgIFxuXG4gICAgZ2V0IF9uYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnUmVkZWVtUmVxdWVzdCc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgUmVkZWVtUmVxdWVzdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdSZWRlZW1SZXF1ZXN0JywgaWQudG9TdHJpbmcoKSwgdGhpcyBhcyB1bmtub3duIGFzIENvbXBhdFJlZGVlbVJlcXVlc3RQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIFJlZGVlbVJlcXVlc3QgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnUmVkZWVtUmVxdWVzdCcsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8UmVkZWVtUmVxdWVzdCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgUmVkZWVtUmVxdWVzdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdSZWRlZW1SZXF1ZXN0JywgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWRlZW1SZXF1ZXN0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5T3duZXIob3duZXI6IHN0cmluZywgb3B0aW9uczogR2V0T3B0aW9uczxDb21wYXRSZWRlZW1SZXF1ZXN0UHJvcHM+KTogUHJvbWlzZTxSZWRlZW1SZXF1ZXN0W10+IHtcbiAgICAgICAgLy8gSW5wdXRzIG11c3QgYmUgY2FzdCBhcyB0aGUgc3RvcmUgaW50ZXJmYWNlIGhhcyBub3QgYmVlbiB1cGRhdGVkIHRvIHN1cHBvcnQgYWx0ZXJuYXRpdmUgSUQgdHlwZXNcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHN0b3JlLmdldEJ5RmllbGQ8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPignUmVkZWVtUmVxdWVzdCcsICdvd25lcicsIG93bmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWRlZW1SZXF1ZXN0UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlTdGF0dXMoc3RhdHVzOiBzdHJpbmcsIG9wdGlvbnM6IEdldE9wdGlvbnM8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPik6IFByb21pc2U8UmVkZWVtUmVxdWVzdFtdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFJlZGVlbVJlcXVlc3RQcm9wcz4oJ1JlZGVlbVJlcXVlc3QnLCAnc3RhdHVzJywgc3RhdHVzLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWRlZW1SZXF1ZXN0UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgZW50aXRpZXMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXJzIGFuZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogXHUyNkEwXHVGRTBGIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJzdCBzZWFyY2ggY2FjaGUgZGF0YSBmb2xsb3dlZCBieSBEQiBkYXRhLiBQbGVhc2UgY29uc2lkZXIgdGhpcyB3aGVuIHVzaW5nIG9yZGVyIGFuZCBvZmZzZXQgb3B0aW9ucy5cdTI2QTBcdUZFMEZcbiAgICAgKiAqL1xuICAgIHN0YXRpYyBhc3luYyBnZXRCeUZpZWxkcyhmaWx0ZXI6IEZpZWxkc0V4cHJlc3Npb248UmVkZWVtUmVxdWVzdFByb3BzPltdLCBvcHRpb25zOiBHZXRPcHRpb25zPFJlZGVlbVJlcXVlc3RQcm9wcz4pOiBQcm9taXNlPFJlZGVlbVJlcXVlc3RbXT4ge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZHM8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPignUmVkZWVtUmVxdWVzdCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdFJlZGVlbVJlcXVlc3RQcm9wcz5bXSwgb3B0aW9ucyBhcyB1bmtub3duIGFzIEdldE9wdGlvbnM8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPik7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgUmVkZWVtUmVxdWVzdFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IFJlZGVlbVJlcXVlc3RQcm9wcyk6IFJlZGVlbVJlcXVlc3Qge1xuICAgICAgICBhc3NlcnQocmVjb3JkLmlkICE9PSB1bmRlZmluZWQgJiYgcmVjb3JkLmlkICE9PSBudWxsLCBcImlkIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyB0aGlzKFxuICAgICAgICAgICAgcmVjb3JkLmlkLFxuICAgICAgICAgICAgcmVjb3JkLm93bmVyLFxuICAgICAgICAgICAgcmVjb3JkLnNoYXJlcyxcbiAgICAgICAgICAgIHJlY29yZC5yZXF1ZXN0VGltZSxcbiAgICAgICAgICAgIHJlY29yZC5zdGF0dXMsXG4gICAgICAgICk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZW50aXR5LHJlY29yZCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFJlZGVlbVJlcXVlc3QgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IFJlZGVlbVJlcXVlc3RlZExvZywgUmVkZWVtQ2FuY2VsbGVkTG9nLCBSZWRlZW1BcHByb3ZlZExvZywgUmVkZWVtRXhlY3V0ZWRMb2cgfSBmcm9tIFwiLi4vdHlwZXMvYWJpLWludGVyZmFjZXMvU2VFVEhSZWRlZW1cIjtcbmltcG9ydCBhc3NlcnQgZnJvbSBcImFzc2VydFwiO1xuXG5lbnVtIFJlZGVlbVJlcXVlc3RTdGF0dXMge1xuICBwZW5kaW5nID0gXCJwZW5kaW5nXCIsXG4gIGFwcHJvdmVkID0gXCJhcHByb3ZlZFwiLFxuICBleGVjdXRlZCA9IFwiZXhlY3V0ZWRcIixcbiAgY2FuY2VsbGVkID0gXCJjYW5jZWxsZWRcIixcbn1cblxuLy8gU2VFVEggUmVkZWVtUmVxdWVzdGVkIGV2ZW50XG4vLyBldmVudCBSZWRlZW1SZXF1ZXN0ZWQodWludDI1NiBpbmRleGVkIHJlcXVlc3RJZCwgYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHNoYXJlcyk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVkZWVtUmVxdWVzdGVkKHJlZGVlbVJlcXVlc3RlZDogUmVkZWVtUmVxdWVzdGVkTG9nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKGBOZXcgcmVkZWVtUmVxdWVzdGVkIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke3JlZGVlbVJlcXVlc3RlZC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHJlZGVlbVJlcXVlc3RlZC5hcmdzLCBcIk5vIHJlZGVlbVJlcXVlc3RlZC5hcmdzXCIpO1xuXG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQuYWRkcmVzczogJHtyZWRlZW1SZXF1ZXN0ZWQuYWRkcmVzc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbVJlcXVlc3RlZC5ibG9ja051bWJlcjogJHtyZWRlZW1SZXF1ZXN0ZWQuYmxvY2tOdW1iZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQudHJhbnNhY3Rpb25IYXNoOiAke3JlZGVlbVJlcXVlc3RlZC50cmFuc2FjdGlvbkhhc2h9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXA6ICR7cmVkZWVtUmVxdWVzdGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtUmVxdWVzdGVkLmFyZ3MucmVxdWVzdElkOiAke3JlZGVlbVJlcXVlc3RlZC5hcmdzLnJlcXVlc3RJZH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbVJlcXVlc3RlZC5hcmdzLm93bmVyOiAke3JlZGVlbVJlcXVlc3RlZC5hcmdzLm93bmVyfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtUmVxdWVzdGVkLmFyZ3Muc2hhcmVzOiAke3JlZGVlbVJlcXVlc3RlZC5hcmdzLnNoYXJlc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbVJlcXVlc3RlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcblxuICBjb25zdCByZXF1ZXN0SWQgPSByZWRlZW1SZXF1ZXN0ZWQuYXJncy5yZXF1ZXN0SWQudG9TdHJpbmcoKTtcbiAgY29uc3Qgb3duZXIgPSByZWRlZW1SZXF1ZXN0ZWQuYXJncy5vd25lcjtcbiAgY29uc3Qgc2hhcmVzID0gQmlnSW50KHJlZGVlbVJlcXVlc3RlZC5hcmdzLnNoYXJlcy50b1N0cmluZygpKTtcbiAgY29uc3QgcmVxdWVzdFRpbWUgPSBCaWdJbnQocmVkZWVtUmVxdWVzdGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wLnRvU3RyaW5nKCkpO1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtUmVxdWVzdGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApO1xuXG4gIGxvZ2dlci5pbmZvKGBDcmVhdGluZyBuZXcgUmVkZWVtUmVxdWVzdDogJHtyZXF1ZXN0SWR9IGZvciBvd25lcjogJHtvd25lcn0gd2l0aCBzaGFyZXM6ICR7c2hhcmVzfWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IFJlZGVlbVJlcXVlc3QuY3JlYXRlKHtcbiAgICBpZDogcmVxdWVzdElkLFxuICAgIGJsb2NrSGVpZ2h0OiBCaWdJbnQocmVkZWVtUmVxdWVzdGVkLmJsb2NrTnVtYmVyKSxcbiAgICBvd25lcjogb3duZXIsXG4gICAgc2hhcmVzOiBzaGFyZXMsXG4gICAgcmVxdWVzdFRpbWU6IHJlcXVlc3RUaW1lLFxuICAgIHN0YXR1czogUmVkZWVtUmVxdWVzdFN0YXR1cy5wZW5kaW5nLFxuICAgIGNyZWF0ZWRBdDogdGltZXN0YW1wLFxuICAgIHVwZGF0ZWRBdDogdGltZXN0YW1wLFxuICAgIHJlcXVlc3RlZEF0OiB0aW1lc3RhbXAsXG4gICAgcmVxdWVzdGVkVHhIYXNoOiByZWRlZW1SZXF1ZXN0ZWQudHJhbnNhY3Rpb25IYXNoLFxuICB9KTtcblxuICBhd2FpdCByZWNvcmQuc2F2ZSgpO1xufVxuXG4vLyBTZUVUSCBSZWRlZW1DYW5jZWxsZWQgZXZlbnRcbi8vIGV2ZW50IFJlZGVlbUNhbmNlbGxlZCh1aW50MjU2IGluZGV4ZWQgcmVxdWVzdElkLCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgc2hhcmVzKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWRlZW1DYW5jZWxsZWQocmVkZWVtQ2FuY2VsbGVkOiBSZWRlZW1DYW5jZWxsZWRMb2cpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbG9nZ2VyLmluZm8oYE5ldyByZWRlZW1DYW5jZWxsZWQgdHJhbnNhY3Rpb24gbG9nIGF0IGJsb2NrICR7cmVkZWVtQ2FuY2VsbGVkLmJsb2NrTnVtYmVyfWApO1xuICBhc3NlcnQocmVkZWVtQ2FuY2VsbGVkLmFyZ3MsIFwiTm8gcmVkZWVtQ2FuY2VsbGVkLmFyZ3NcIik7XG5cbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUNhbmNlbGxlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUNhbmNlbGxlZC5hZGRyZXNzOiAke3JlZGVlbUNhbmNlbGxlZC5hZGRyZXNzfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkLmJsb2NrTnVtYmVyOiAke3JlZGVlbUNhbmNlbGxlZC5ibG9ja051bWJlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUNhbmNlbGxlZC50cmFuc2FjdGlvbkhhc2g6ICR7cmVkZWVtQ2FuY2VsbGVkLnRyYW5zYWN0aW9uSGFzaH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUNhbmNlbGxlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcDogJHtyZWRlZW1DYW5jZWxsZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXB9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1DYW5jZWxsZWQuYXJncy5yZXF1ZXN0SWQ6ICR7cmVkZWVtQ2FuY2VsbGVkLmFyZ3MucmVxdWVzdElkfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkLmFyZ3Mub3duZXI6ICR7cmVkZWVtQ2FuY2VsbGVkLmFyZ3Mub3duZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1DYW5jZWxsZWQuYXJncy5zaGFyZXM6ICR7cmVkZWVtQ2FuY2VsbGVkLmFyZ3Muc2hhcmVzfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlcXVlc3RJZCA9IHJlZGVlbUNhbmNlbGxlZC5hcmdzLnJlcXVlc3RJZC50b1N0cmluZygpO1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtQ2FuY2VsbGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApO1xuXG4gIGNvbnN0IGNhbmNlbGxlZEF0ID0gbmV3IERhdGUoTnVtYmVyKHJlZGVlbUNhbmNlbGxlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKTtcblxuICBsb2dnZXIuaW5mbyhgQ2FuY2VsbGluZyBSZWRlZW1SZXF1ZXN0OiAke3JlcXVlc3RJZH1gKTtcblxuICBjb25zdCByZWNvcmQgPSBhd2FpdCBSZWRlZW1SZXF1ZXN0LmdldChyZXF1ZXN0SWQpO1xuICBpZiAocmVjb3JkKSB7XG4gICAgaWYgKHJlY29yZC5zdGF0dXMgPT09IFJlZGVlbVJlcXVlc3RTdGF0dXMuY2FuY2VsbGVkKSB7XG4gICAgICBsb2dnZXIud2FybihgUmVkZWVtUmVxdWVzdCAke3JlcXVlc3RJZH0gYWxyZWFkeSBjYW5jZWxsZWRgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZWNvcmQuc3RhdHVzID0gUmVkZWVtUmVxdWVzdFN0YXR1cy5jYW5jZWxsZWQ7XG4gICAgcmVjb3JkLnVwZGF0ZWRBdCA9IHRpbWVzdGFtcDtcbiAgICByZWNvcmQuY2FuY2VsbGVkVHhIYXNoID0gcmVkZWVtQ2FuY2VsbGVkLnRyYW5zYWN0aW9uSGFzaDtcbiAgICByZWNvcmQuY2FuY2VsbGVkQXQgPSBjYW5jZWxsZWRBdDtcbiAgICBhd2FpdCByZWNvcmQuc2F2ZSgpO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci53YXJuKGBSZWRlZW1SZXF1ZXN0ICR7cmVxdWVzdElkfSBub3QgZm91bmQgZm9yIGNhbmNlbGxhdGlvbmApO1xuICB9XG59XG5cbi8vIFNlRVRIIFJlZGVlbUFwcHJvdmVkIGV2ZW50XG4vLyBldmVudCBSZWRlZW1BcHByb3ZlZCh1aW50MjU2IGluZGV4ZWQgcmVxdWVzdElkLCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgc2hhcmVzKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVSZWRlZW1BcHByb3ZlZChyZWRlZW1BcHByb3ZlZDogUmVkZWVtQXBwcm92ZWRMb2cpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbG9nZ2VyLmluZm8oYE5ldyByZWRlZW1BcHByb3ZlZCB0cmFuc2FjdGlvbiBsb2cgYXQgYmxvY2sgJHtyZWRlZW1BcHByb3ZlZC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHJlZGVlbUFwcHJvdmVkLmFyZ3MsIFwiTm8gcmVkZWVtQXBwcm92ZWQuYXJnc1wiKTtcblxuICBsb2dnZXIuaW5mbyhgcmVkZWVtQXBwcm92ZWQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZC5hZGRyZXNzOiAke3JlZGVlbUFwcHJvdmVkLmFkZHJlc3N9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZC5ibG9ja051bWJlcjogJHtyZWRlZW1BcHByb3ZlZC5ibG9ja051bWJlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUFwcHJvdmVkLnRyYW5zYWN0aW9uSGFzaDogJHtyZWRlZW1BcHByb3ZlZC50cmFuc2FjdGlvbkhhc2h9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcDogJHtyZWRlZW1BcHByb3ZlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUFwcHJvdmVkLmFyZ3MucmVxdWVzdElkOiAke3JlZGVlbUFwcHJvdmVkLmFyZ3MucmVxdWVzdElkfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQXBwcm92ZWQuYXJncy5vd25lcjogJHtyZWRlZW1BcHByb3ZlZC5hcmdzLm93bmVyfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQXBwcm92ZWQuYXJncy5zaGFyZXM6ICR7cmVkZWVtQXBwcm92ZWQuYXJncy5zaGFyZXN9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcblxuICBjb25zdCByZXF1ZXN0SWQgPSByZWRlZW1BcHByb3ZlZC5hcmdzLnJlcXVlc3RJZC50b1N0cmluZygpO1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtQXBwcm92ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXApICogMTAwMCk7XG5cbiAgY29uc3QgYXBwcm92ZWRBdCA9IG5ldyBEYXRlKE51bWJlcihyZWRlZW1BcHByb3ZlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKTtcblxuICBsb2dnZXIuaW5mbyhgQXBwcm92aW5nIFJlZGVlbVJlcXVlc3Q6ICR7cmVxdWVzdElkfWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IGF3YWl0IFJlZGVlbVJlcXVlc3QuZ2V0KHJlcXVlc3RJZCk7XG4gIGlmIChyZWNvcmQpIHtcbiAgICBpZiAocmVjb3JkLnN0YXR1cyA9PT0gUmVkZWVtUmVxdWVzdFN0YXR1cy5hcHByb3ZlZCkge1xuICAgICAgbG9nZ2VyLndhcm4oYFJlZGVlbVJlcXVlc3QgJHtyZXF1ZXN0SWR9IGFscmVhZHkgYXBwcm92ZWRgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZWNvcmQuc3RhdHVzID0gUmVkZWVtUmVxdWVzdFN0YXR1cy5hcHByb3ZlZDtcbiAgICByZWNvcmQudXBkYXRlZEF0ID0gdGltZXN0YW1wO1xuICAgIHJlY29yZC5hcHByb3ZlZFR4SGFzaCA9IHJlZGVlbUFwcHJvdmVkLnRyYW5zYWN0aW9uSGFzaDtcbiAgICByZWNvcmQuYXBwcm92ZWRBdCA9IGFwcHJvdmVkQXQ7XG4gICAgYXdhaXQgcmVjb3JkLnNhdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIud2FybihgUmVkZWVtUmVxdWVzdCAke3JlcXVlc3RJZH0gbm90IGZvdW5kIGZvciBhcHByb3ZhbGApO1xuICB9XG59XG5cbi8vIFNlRVRIIFJlZGVlbUV4ZWN1dGVkIGV2ZW50XG4vLyBldmVudCBSZWRlZW1FeGVjdXRlZCh1aW50MjU2IGluZGV4ZWQgcmVxdWVzdElkLCBhZGRyZXNzIGluZGV4ZWQgb3duZXIsIHVpbnQyNTYgc2hhcmVzLCB1aW50MjU2IGFzc2V0c1BhaWQpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlZGVlbUV4ZWN1dGVkKHJlZGVlbUV4ZWN1dGVkOiBSZWRlZW1FeGVjdXRlZExvZyk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IHJlZGVlbUV4ZWN1dGVkIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke3JlZGVlbUV4ZWN1dGVkLmJsb2NrTnVtYmVyfWApO1xuICBhc3NlcnQocmVkZWVtRXhlY3V0ZWQuYXJncywgXCJObyByZWRlZW1FeGVjdXRlZC5hcmdzXCIpO1xuXG4gIGxvZ2dlci5pbmZvKGByZWRlZW1FeGVjdXRlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkLmFkZHJlc3M6ICR7cmVkZWVtRXhlY3V0ZWQuYWRkcmVzc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkLmJsb2NrTnVtYmVyOiAke3JlZGVlbUV4ZWN1dGVkLmJsb2NrTnVtYmVyfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb25IYXNoOiAke3JlZGVlbUV4ZWN1dGVkLnRyYW5zYWN0aW9uSGFzaH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wOiAke3JlZGVlbUV4ZWN1dGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtRXhlY3V0ZWQuYXJncy5yZXF1ZXN0SWQ6ICR7cmVkZWVtRXhlY3V0ZWQuYXJncy5yZXF1ZXN0SWR9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1FeGVjdXRlZC5hcmdzLm93bmVyOiAke3JlZGVlbUV4ZWN1dGVkLmFyZ3Mub3duZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1FeGVjdXRlZC5hcmdzLnNoYXJlczogJHtyZWRlZW1FeGVjdXRlZC5hcmdzLnNoYXJlc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkLmFyZ3MuYXNzZXRzUGFpZDogJHtyZWRlZW1FeGVjdXRlZC5hcmdzLmFzc2V0c1BhaWR9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1FeGVjdXRlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcblxuICBjb25zdCByZXF1ZXN0SWQgPSByZWRlZW1FeGVjdXRlZC5hcmdzLnJlcXVlc3RJZC50b1N0cmluZygpO1xuICBjb25zdCBhc3NldHNQYWlkID0gQmlnSW50KHJlZGVlbUV4ZWN1dGVkLmFyZ3MuYXNzZXRzUGFpZC50b1N0cmluZygpKTtcbiAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoTnVtYmVyKHJlZGVlbUV4ZWN1dGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApO1xuXG4gIGNvbnN0IGV4ZWN1dGVkQXQgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXApICogMTAwMCk7XG5cbiAgbG9nZ2VyLmluZm8oYEV4ZWN1dGluZyBSZWRlZW1SZXF1ZXN0OiAke3JlcXVlc3RJZH0gd2l0aCBhc3NldHNQYWlkOiAke2Fzc2V0c1BhaWR9YCk7XG5cbiAgY29uc3QgcmVjb3JkID0gYXdhaXQgUmVkZWVtUmVxdWVzdC5nZXQocmVxdWVzdElkKTtcbiAgaWYgKHJlY29yZCkge1xuICAgIGlmIChyZWNvcmQuc3RhdHVzID09PSBSZWRlZW1SZXF1ZXN0U3RhdHVzLmV4ZWN1dGVkKSB7XG4gICAgICBsb2dnZXIud2FybihgUmVkZWVtUmVxdWVzdCAke3JlcXVlc3RJZH0gYWxyZWFkeSBleGVjdXRlZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlY29yZC5zdGF0dXMgPSBSZWRlZW1SZXF1ZXN0U3RhdHVzLmV4ZWN1dGVkO1xuICAgIHJlY29yZC5hc3NldHNQYWlkID0gYXNzZXRzUGFpZDtcbiAgICByZWNvcmQudXBkYXRlZEF0ID0gdGltZXN0YW1wO1xuICAgIHJlY29yZC5leGVjdXRlZFR4SGFzaCA9IHJlZGVlbUV4ZWN1dGVkLnRyYW5zYWN0aW9uSGFzaDtcbiAgICByZWNvcmQuZXhlY3V0ZWRBdCA9IGV4ZWN1dGVkQXQ7XG4gICAgYXdhaXQgcmVjb3JkLnNhdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIud2FybihgUmVkZWVtUmVxdWVzdCAke3JlcXVlc3RJZH0g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aW5kZXhfZXhwb3J0cyIsICJfX2V4cG9ydCIsICJoYW5kbGVEZXBvc2l0IiwgImhhbmRsZVJlZGVlbUFwcHJvdmVkIiwgImhhbmRsZVJlZGVlbUNhbmNlbGxlZCIsICJoYW5kbGVSZWRlZW1FeGVjdXRlZCIsICJoYW5kbGVSZWRlZW1SZXF1ZXN0ZWQiLCAiaGFuZGxlV2l0aGRyYXciLCAiX190b0NvbW1vbkpTIiwgImltcG9ydF9hc3NlcnQiLCAiaW1wb3J0X2Fzc2VydCIsICJEZXBvc2l0IiwgImlkIiwgIm93bmVyIiwgImFzc2V0cyIsICJzaGFyZXMiLCAiYXNzZXJ0IiwgInJlY29yZCIsICJvcHRpb25zIiwgImZpbHRlciIsICJlbnRpdHkiLCAiaW1wb3J0X2Fzc2VydCIsICJXaXRoZHJhdyIsICJpZCIsICJzZW5kZXIiLCAicmVjZWl2ZXIiLCAib3duZXIiLCAiYXNzZXRzIiwgInNoYXJlcyIsICJhc3NlcnQiLCAicmVjb3JkIiwgIm9wdGlvbnMiLCAiZmlsdGVyIiwgImVudGl0eSIsICJpbXBvcnRfYXNzZXJ0IiwgIlJlZGVlbVJlcXVlc3QiLCAiaWQiLCAib3duZXIiLCAic2hhcmVzIiwgInJlcXVlc3RUaW1lIiwgInN0YXR1cyIsICJhc3NlcnQiLCAicmVjb3JkIiwgIm9wdGlvbnMiLCAiZmlsdGVyIiwgImVudGl0eSIsICJoYW5kbGVEZXBvc2l0IiwgImRlcG9zaXQiLCAiYXNzZXJ0IiwgIkRlcG9zaXQiLCAiaGFuZGxlV2l0aGRyYXciLCAid2l0aGRyYXciLCAiV2l0aGRyYXciLCAiaW1wb3J0X2Fzc2VydCIsICJoYW5kbGVSZWRlZW1SZXF1ZXN0ZWQiLCAicmVkZWVtUmVxdWVzdGVkIiwgImFzc2VydCIsICJyZXF1ZXN0SWQiLCAib3duZXIiLCAic2hhcmVzIiwgInJlcXVlc3RUaW1lIiwgInRpbWVzdGFtcCIsICJSZWRlZW1SZXF1ZXN0IiwgImhhbmRsZVJlZGVlbUNhbmNlbGxlZCIsICJyZWRlZW1DYW5jZWxsZWQiLCAiY2FuY2VsbGVkQXQiLCAicmVjb3JkIiwgImhhbmRsZVJlZGVlbUFwcHJvdmVkIiwgInJlZGVlbUFwcHJvdmVkIiwgImFwcHJvdmVkQXQiLCAiaGFuZGxlUmVkZWVtRXhlY3V0ZWQiLCAicmVkZWVtRXhlY3V0ZWQiLCAiYXNzZXRzUGFpZCIsICJleGVjdXRlZEF0Il0KfQo=
