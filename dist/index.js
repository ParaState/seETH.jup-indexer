"use strict";var f=Object.create;var u=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var q=(e,t)=>{for(var s in t)u(e,s,{get:t[s],enumerable:!0})},b=(e,t,s,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of P(t))!k.call(e,r)&&r!==s&&u(e,r,{get:()=>t[r],enumerable:!(o=R(t,r))||o.enumerable});return e};var n=(e,t,s)=>(s=e!=null?f(y(e)):{},b(t||!e||!e.__esModule?u(s,"default",{value:e,enumerable:!0}):s,e)),D=e=>b(u({},"__esModule",{value:!0}),e);var I={};q(I,{handleDeposit:()=>$,handleRedeemApproved:()=>x,handleRedeemCancelled:()=>N,handleRedeemExecuted:()=>C,handleRedeemRequested:()=>W,handleWithdraw:()=>v});module.exports=D(I);var h=n(require("assert"));var g=n(require("assert")),d=class{constructor(t,s,o,r){this.id=t,this.owner=s,this.assets=o,this.shares=r}get _name(){return"Deposit"}async save(){let t=this.id;(0,g.default)(t!==null,"Cannot save Deposit entity without an ID"),await store.set("Deposit",t.toString(),this)}static async remove(t){(0,g.default)(t!==null,"Cannot remove Deposit entity without an ID"),await store.remove("Deposit",t.toString())}static async get(t){(0,g.default)(t!=null,"Cannot get Deposit entity without an ID");let s=await store.get("Deposit",t.toString());if(s)return this.create(s)}static async getByOwner(t,s){return(await store.getByField("Deposit","owner",t,s)).map(r=>this.create(r))}static async getByFields(t,s){return(await store.getByFields("Deposit",t,s)).map(r=>this.create(r))}static create(t){(0,g.default)(t.id!==void 0&&t.id!==null,"id must be provided");let s=new this(t.id,t.owner,t.assets,t.shares);return Object.assign(s,t),s}};var c=n(require("assert")),p=class{constructor(t,s,o,r,a,w){this.id=t,this.sender=s,this.receiver=o,this.owner=r,this.assets=a,this.shares=w}get _name(){return"Withdraw"}async save(){let t=this.id;(0,c.default)(t!==null,"Cannot save Withdraw entity without an ID"),await store.set("Withdraw",t.toString(),this)}static async remove(t){(0,c.default)(t!==null,"Cannot remove Withdraw entity without an ID"),await store.remove("Withdraw",t.toString())}static async get(t){(0,c.default)(t!=null,"Cannot get Withdraw entity without an ID");let s=await store.get("Withdraw",t.toString());if(s)return this.create(s)}static async getBySender(t,s){return(await store.getByField("Withdraw","sender",t,s)).map(r=>this.create(r))}static async getByReceiver(t,s){return(await store.getByField("Withdraw","receiver",t,s)).map(r=>this.create(r))}static async getByOwner(t,s){return(await store.getByField("Withdraw","owner",t,s)).map(r=>this.create(r))}static async getByFields(t,s){return(await store.getByFields("Withdraw",t,s)).map(r=>this.create(r))}static create(t){(0,c.default)(t.id!==void 0&&t.id!==null,"id must be provided");let s=new this(t.id,t.sender,t.receiver,t.owner,t.assets,t.shares);return Object.assign(s,t),s}};var l=n(require("assert")),i=class{constructor(t,s,o,r,a){this.id=t,this.owner=s,this.shares=o,this.requestTime=r,this.status=a}get _name(){return"RedeemRequest"}async save(){let t=this.id;(0,l.default)(t!==null,"Cannot save RedeemRequest entity without an ID"),await store.set("RedeemRequest",t.toString(),this)}static async remove(t){(0,l.default)(t!==null,"Cannot remove RedeemRequest entity without an ID"),await store.remove("RedeemRequest",t.toString())}static async get(t){(0,l.default)(t!=null,"Cannot get RedeemRequest entity without an ID");let s=await store.get("RedeemRequest",t.toString());if(s)return this.create(s)}static async getByOwner(t,s){return(await store.getByField("RedeemRequest","owner",t,s)).map(r=>this.create(r))}static async getByStatus(t,s){return(await store.getByField("RedeemRequest","status",t,s)).map(r=>this.create(r))}static async getByFields(t,s){return(await store.getByFields("RedeemRequest",t,s)).map(r=>this.create(r))}static create(t){(0,l.default)(t.id!==void 0&&t.id!==null,"id must be provided");let s=new this(t.id,t.owner,t.shares,t.requestTime,t.status);return Object.assign(s,t),s}};async function $(e){logger.info(`New deposit transaction log at block ${e.blockNumber}`),(0,h.default)(e.args,"No log.args"),logger.info("handleDeposit========================================"),logger.info(`handleDeposit.address: ${e.address}`),logger.info(`handleDeposit.blockNumber: ${e.blockNumber}`),logger.info(`handleDeposit.transactionHash: ${e.transactionHash}`),logger.info(`handleDeposit.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`handleDeposit.args.sender: ${e.args.sender}`),logger.info(`handleDeposit.args.owner: ${e.args.owner}`),logger.info(`handleDeposit.args.assets: ${e.args.assets}`),logger.info(`handleDeposit.args.shares: ${e.args.shares}`),logger.info("handleDeposit========================================"),await d.create({id:e.transactionHash,blockHeight:BigInt(e.blockNumber),owner:e.args.owner.toString(),assets:BigInt(e.args.assets.toString()),shares:BigInt(e.args.shares.toString()),timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save()}async function v(e){logger.info(`New withdraw transaction log at block ${e.blockNumber}`),(0,h.default)(e.args,"No withdraw.args"),logger.info("handleWithdraw========================================"),logger.info(`handleWithdraw.address: ${e.address}`),logger.info(`handleWithdraw.blockNumber: ${e.blockNumber}`),logger.info(`handleWithdraw.transactionHash: ${e.transactionHash}`),logger.info(`handleWithdraw.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`handleWithdraw.args.sender: ${e.args.sender}`),logger.info(`handleWithdraw.args.receiver: ${e.args.receiver}`),logger.info(`handleWithdraw.args.owner: ${e.args.owner}`),logger.info(`handleWithdraw.args.assets: ${e.args.assets}`),logger.info(`handleWithdraw.args.shares: ${e.args.shares}`),logger.info("handleWithdraw========================================"),await p.create({id:e.transactionHash,blockHeight:BigInt(e.blockNumber),sender:e.args.sender.toString(),receiver:e.args.receiver.toString(),owner:e.args.owner.toString(),assets:BigInt(e.args.assets.toString()),shares:BigInt(e.args.shares.toString()),timestamp:new Date(Number(e.transaction.blockTimestamp)*1e3)}).save()}var m=n(require("assert"));async function W(e){logger.info(`New redeemRequested transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemRequested.args"),logger.info("redeemRequested========================================"),logger.info(`redeemRequested.address: ${e.address}`),logger.info(`redeemRequested.blockNumber: ${e.blockNumber}`),logger.info(`redeemRequested.transactionHash: ${e.transactionHash}`),logger.info(`redeemRequested.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemRequested.args.requestId: ${e.args.requestId}`),logger.info(`redeemRequested.args.owner: ${e.args.owner}`),logger.info(`redeemRequested.args.shares: ${e.args.shares}`),logger.info("redeemRequested========================================");let t=e.args.requestId.toString(),s=e.args.owner,o=BigInt(e.args.shares.toString()),r=BigInt(e.transaction.blockTimestamp.toString()),a=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Creating new RedeemRequest: ${t} for owner: ${s} with shares: ${o}`),await i.create({id:t,blockHeight:BigInt(e.blockNumber),owner:s,shares:o,requestTime:r,status:"requested",createdAt:a,updatedAt:a,requestedAt:a,requestedTxHash:e.transactionHash}).save()}async function N(e){logger.info(`New redeemCancelled transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemCancelled.args"),logger.info("redeemCancelled========================================"),logger.info(`redeemCancelled.address: ${e.address}`),logger.info(`redeemCancelled.blockNumber: ${e.blockNumber}`),logger.info(`redeemCancelled.transactionHash: ${e.transactionHash}`),logger.info(`redeemCancelled.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemCancelled.args.requestId: ${e.args.requestId}`),logger.info(`redeemCancelled.args.owner: ${e.args.owner}`),logger.info(`redeemCancelled.args.shares: ${e.args.shares}`),logger.info("redeemCancelled========================================");let t=e.args.requestId.toString(),s=new Date(Number(e.transaction.blockTimestamp)*1e3),o=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Cancelling RedeemRequest: ${t}`);let r=await i.get(t);if(r){if(r.status==="cancelled"){logger.warn(`RedeemRequest ${t} already cancelled`);return}r.status="cancelled",r.updatedAt=s,r.cancelledTxHash=e.transactionHash,r.cancelledAt=o,await r.save()}else logger.warn(`RedeemRequest ${t} not found for cancellation`)}async function x(e){logger.info(`New redeemApproved transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemApproved.args"),logger.info("redeemApproved========================================"),logger.info(`redeemApproved.address: ${e.address}`),logger.info(`redeemApproved.blockNumber: ${e.blockNumber}`),logger.info(`redeemApproved.transactionHash: ${e.transactionHash}`),logger.info(`redeemApproved.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemApproved.args.requestId: ${e.args.requestId}`),logger.info(`redeemApproved.args.owner: ${e.args.owner}`),logger.info(`redeemApproved.args.shares: ${e.args.shares}`),logger.info("redeemApproved========================================");let t=e.args.requestId.toString(),s=new Date(Number(e.transaction.blockTimestamp)*1e3),o=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Approving RedeemRequest: ${t}`);let r=await i.get(t);if(r){if(r.status==="approved"){logger.warn(`RedeemRequest ${t} already approved`);return}r.status="approved",r.updatedAt=s,r.approvedTxHash=e.transactionHash,r.approvedAt=o,await r.save()}else logger.warn(`RedeemRequest ${t} not found for approval`)}async function C(e){logger.info(`New redeemExecuted transaction log at block ${e.blockNumber}`),(0,m.default)(e.args,"No redeemExecuted.args"),logger.info("redeemExecuted========================================"),logger.info(`redeemExecuted.address: ${e.address}`),logger.info(`redeemExecuted.blockNumber: ${e.blockNumber}`),logger.info(`redeemExecuted.transactionHash: ${e.transactionHash}`),logger.info(`redeemExecuted.transaction.blockTimestamp: ${e.transaction.blockTimestamp}`),logger.info(`redeemExecuted.args.requestId: ${e.args.requestId}`),logger.info(`redeemExecuted.args.owner: ${e.args.owner}`),logger.info(`redeemExecuted.args.shares: ${e.args.shares}`),logger.info(`redeemExecuted.args.assetsPaid: ${e.args.assetsPaid}`),logger.info("redeemExecuted========================================");let t=e.args.requestId.toString(),s=BigInt(e.args.assetsPaid.toString()),o=new Date(Number(e.transaction.blockTimestamp)*1e3),r=new Date(Number(e.transaction.blockTimestamp)*1e3);logger.info(`Executing RedeemRequest: ${t} with assetsPaid: ${s}`);let a=await i.get(t);if(a){if(a.status==="executed"){logger.warn(`RedeemRequest ${t} already executed`);return}a.status="executed",a.assetsPaid=s,a.updatedAt=o,a.executedTxHash=e.transactionHash,a.executedAt=r,await a.save()}else logger.warn(`RedeemRequest ${t} not found for execution`)}0&&(module.exports={handleDeposit,handleRedeemApproved,handleRedeemCancelled,handleRedeemExecuted,handleRedeemRequested,handleWithdraw});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIiwgIi4uL3NyYy9tYXBwaW5ncy9zZWV0aFYySGFuZGxlcnMudHMiLCAiLi4vc3JjL3R5cGVzL21vZGVscy9EZXBvc2l0LnRzIiwgIi4uL3NyYy90eXBlcy9tb2RlbHMvV2l0aGRyYXcudHMiLCAiLi4vc3JjL3R5cGVzL21vZGVscy9SZWRlZW1SZXF1ZXN0LnRzIiwgIi4uL3NyYy9tYXBwaW5ncy9zZWV0aFJlZGVlbUhhbmRsZXJzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvL0V4cG9ydHMgYWxsIGhhbmRsZXIgZnVuY3Rpb25zXG5leHBvcnQgKiBmcm9tIFwiLi9tYXBwaW5ncy9zZWV0aFYySGFuZGxlcnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL21hcHBpbmdzL3NlZXRoUmVkZWVtSGFuZGxlcnNcIjtcbiIsICJpbXBvcnQgYXNzZXJ0IGZyb20gXCJhc3NlcnRcIjtcbmltcG9ydCB7IERlcG9zaXQsIFdpdGhkcmF3IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBEZXBvc2l0TG9nLCBXaXRoZHJhd0xvZyB9IGZyb20gXCIuLi90eXBlcy9hYmktaW50ZXJmYWNlcy9TZUVUSFYyXCI7XG5cbi8vIFNlRVRIIFYyIERlcG9zaXQgZXZlbnRcbi8vIGV2ZW50IERlcG9zaXQoYWRkcmVzcyBpbmRleGVkIHNlbmRlciwgYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IGFzc2V0cywgdWludDI1NiBzaGFyZXMpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZURlcG9zaXQoZGVwb3NpdDogRGVwb3NpdExvZyk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IGRlcG9zaXQgdHJhbnNhY3Rpb24gbG9nIGF0IGJsb2NrICR7ZGVwb3NpdC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KGRlcG9zaXQuYXJncywgXCJObyBsb2cuYXJnc1wiKTtcblxuICBsb2dnZXIuaW5mbyhgaGFuZGxlRGVwb3NpdD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQuYWRkcmVzczogJHtkZXBvc2l0LmFkZHJlc3N9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LmJsb2NrTnVtYmVyOiAke2RlcG9zaXQuYmxvY2tOdW1iZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LnRyYW5zYWN0aW9uSGFzaDogJHtkZXBvc2l0LnRyYW5zYWN0aW9uSGFzaH1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXA6ICR7ZGVwb3NpdC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcH1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQuYXJncy5zZW5kZXI6ICR7ZGVwb3NpdC5hcmdzLnNlbmRlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZURlcG9zaXQuYXJncy5vd25lcjogJHtkZXBvc2l0LmFyZ3Mub3duZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LmFyZ3MuYXNzZXRzOiAke2RlcG9zaXQuYXJncy5hc3NldHN9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0LmFyZ3Muc2hhcmVzOiAke2RlcG9zaXQuYXJncy5zaGFyZXN9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVEZXBvc2l0PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IERlcG9zaXQuY3JlYXRlKHtcbiAgICBpZDogZGVwb3NpdC50cmFuc2FjdGlvbkhhc2gsXG4gICAgYmxvY2tIZWlnaHQ6IEJpZ0ludChkZXBvc2l0LmJsb2NrTnVtYmVyKSxcbiAgICBvd25lcjogZGVwb3NpdC5hcmdzLm93bmVyLnRvU3RyaW5nKCksXG4gICAgYXNzZXRzOiBCaWdJbnQoZGVwb3NpdC5hcmdzLmFzc2V0cy50b1N0cmluZygpKSxcbiAgICBzaGFyZXM6IEJpZ0ludChkZXBvc2l0LmFyZ3Muc2hhcmVzLnRvU3RyaW5nKCkpLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKGRlcG9zaXQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXApICogMTAwMCksXG4gIH0pO1xuXG4gIGF3YWl0IHJlY29yZC5zYXZlKCk7XG59XG5cbi8vIFNlRVRIIFYyIFdpdGhkcmF3IGV2ZW50XG4vLyBldmVudCBXaXRoZHJhdyhhZGRyZXNzIGluZGV4ZWQgc2VuZGVyLCBhZGRyZXNzIGluZGV4ZWQgcmVjZWl2ZXIsIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBhc3NldHMsIHVpbnQyNTYgc2hhcmVzKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVXaXRoZHJhdyh3aXRoZHJhdzogV2l0aGRyYXdMb2cpOiBQcm9taXNlPHZvaWQ+IHtcbiAgbG9nZ2VyLmluZm8oYE5ldyB3aXRoZHJhdyB0cmFuc2FjdGlvbiBsb2cgYXQgYmxvY2sgJHt3aXRoZHJhdy5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHdpdGhkcmF3LmFyZ3MsIFwiTm8gd2l0aGRyYXcuYXJnc1wiKTtcblxuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXc9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy5hZGRyZXNzOiAke3dpdGhkcmF3LmFkZHJlc3N9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy5ibG9ja051bWJlcjogJHt3aXRoZHJhdy5ibG9ja051bWJlcn1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZVdpdGhkcmF3LnRyYW5zYWN0aW9uSGFzaDogJHt3aXRoZHJhdy50cmFuc2FjdGlvbkhhc2h9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcDogJHt3aXRoZHJhdy50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcH1gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZVdpdGhkcmF3LmFyZ3Muc2VuZGVyOiAke3dpdGhkcmF3LmFyZ3Muc2VuZGVyfWApO1xuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXcuYXJncy5yZWNlaXZlcjogJHt3aXRoZHJhdy5hcmdzLnJlY2VpdmVyfWApO1xuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXcuYXJncy5vd25lcjogJHt3aXRoZHJhdy5hcmdzLm93bmVyfWApO1xuICBsb2dnZXIuaW5mbyhgaGFuZGxlV2l0aGRyYXcuYXJncy5hc3NldHM6ICR7d2l0aGRyYXcuYXJncy5hc3NldHN9YCk7XG4gIGxvZ2dlci5pbmZvKGBoYW5kbGVXaXRoZHJhdy5hcmdzLnNoYXJlczogJHt3aXRoZHJhdy5hcmdzLnNoYXJlc31gKTtcbiAgbG9nZ2VyLmluZm8oYGhhbmRsZVdpdGhkcmF3PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IFdpdGhkcmF3LmNyZWF0ZSh7XG4gICAgaWQ6IHdpdGhkcmF3LnRyYW5zYWN0aW9uSGFzaCxcbiAgICBibG9ja0hlaWdodDogQmlnSW50KHdpdGhkcmF3LmJsb2NrTnVtYmVyKSxcbiAgICBzZW5kZXI6IHdpdGhkcmF3LmFyZ3Muc2VuZGVyLnRvU3RyaW5nKCksXG4gICAgcmVjZWl2ZXI6IHdpdGhkcmF3LmFyZ3MucmVjZWl2ZXIudG9TdHJpbmcoKSxcbiAgICBvd25lcjogd2l0aGRyYXcuYXJncy5vd25lci50b1N0cmluZygpLFxuICAgIGFzc2V0czogQmlnSW50KHdpdGhkcmF3LmFyZ3MuYXNzZXRzLnRvU3RyaW5nKCkpLFxuICAgIHNoYXJlczogQmlnSW50KHdpdGhkcmF3LmFyZ3Muc2hhcmVzLnRvU3RyaW5nKCkpLFxuICAgIHRpbWVzdGFtcDogbmV3IERhdGUoTnVtYmVyKHdpdGhkcmF3LnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApLFxuICB9KTtcblxuICBhd2FpdCByZWNvcmQuc2F2ZSgpO1xufVxuIiwgIi8vIEF1dG8tZ2VuZXJhdGVkICwgRE8gTk9UIEVESVRcbmltcG9ydCB7RW50aXR5LCBGdW5jdGlvblByb3BlcnR5TmFtZXMsIEZpZWxkc0V4cHJlc3Npb24sIEdldE9wdGlvbnMgfSBmcm9tIFwiQHN1YnFsL3R5cGVzLWNvcmVcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuXG5cbmV4cG9ydCB0eXBlIERlcG9zaXRQcm9wcyA9IE9taXQ8RGVwb3NpdCwgTm9uTnVsbGFibGU8RnVuY3Rpb25Qcm9wZXJ0eU5hbWVzPERlcG9zaXQ+PiB8ICdfbmFtZSc+O1xuXG4vKlxuICogQ29tcGF0IHR5cGVzIGFsbG93cyBmb3Igc3VwcG9ydCBvZiBhbHRlcm5hdGl2ZSBgaWRgIHR5cGVzIHdpdGhvdXQgcmVmYWN0b3JpbmcgdGhlIG5vZGVcbiAqL1xudHlwZSBDb21wYXREZXBvc2l0UHJvcHMgPSBPbWl0PERlcG9zaXRQcm9wcywgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG50eXBlIENvbXBhdEVudGl0eSA9IE9taXQ8RW50aXR5LCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcblxuZXhwb3J0IGNsYXNzIERlcG9zaXQgaW1wbGVtZW50cyBDb21wYXRFbnRpdHkge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIFxuICAgICAgICBpZDogc3RyaW5nLFxuICAgICAgICBvd25lcjogc3RyaW5nLFxuICAgICAgICBhc3NldHM6IGJpZ2ludCxcbiAgICAgICAgc2hhcmVzOiBiaWdpbnQsXG4gICAgKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLmFzc2V0cyA9IGFzc2V0cztcbiAgICAgICAgdGhpcy5zaGFyZXMgPSBzaGFyZXM7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgb3duZXI6IHN0cmluZztcbiAgICBwdWJsaWMgYXNzZXRzOiBiaWdpbnQ7XG4gICAgcHVibGljIHNoYXJlczogYmlnaW50O1xuICAgIHB1YmxpYyB0aW1lc3RhbXA/OiBEYXRlO1xuICAgIFxuXG4gICAgZ2V0IF9uYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnRGVwb3NpdCc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgRGVwb3NpdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdEZXBvc2l0JywgaWQudG9TdHJpbmcoKSwgdGhpcyBhcyB1bmtub3duIGFzIENvbXBhdERlcG9zaXRQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIERlcG9zaXQgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnRGVwb3NpdCcsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8RGVwb3NpdCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgRGVwb3NpdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdEZXBvc2l0JywgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBEZXBvc2l0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5T3duZXIob3duZXI6IHN0cmluZywgb3B0aW9uczogR2V0T3B0aW9uczxDb21wYXREZXBvc2l0UHJvcHM+KTogUHJvbWlzZTxEZXBvc2l0W10+IHtcbiAgICAgICAgLy8gSW5wdXRzIG11c3QgYmUgY2FzdCBhcyB0aGUgc3RvcmUgaW50ZXJmYWNlIGhhcyBub3QgYmVlbiB1cGRhdGVkIHRvIHN1cHBvcnQgYWx0ZXJuYXRpdmUgSUQgdHlwZXNcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHN0b3JlLmdldEJ5RmllbGQ8Q29tcGF0RGVwb3NpdFByb3BzPignRGVwb3NpdCcsICdvd25lcicsIG93bmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBEZXBvc2l0UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgZW50aXRpZXMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXJzIGFuZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogXHUyNkEwXHVGRTBGIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJzdCBzZWFyY2ggY2FjaGUgZGF0YSBmb2xsb3dlZCBieSBEQiBkYXRhLiBQbGVhc2UgY29uc2lkZXIgdGhpcyB3aGVuIHVzaW5nIG9yZGVyIGFuZCBvZmZzZXQgb3B0aW9ucy5cdTI2QTBcdUZFMEZcbiAgICAgKiAqL1xuICAgIHN0YXRpYyBhc3luYyBnZXRCeUZpZWxkcyhmaWx0ZXI6IEZpZWxkc0V4cHJlc3Npb248RGVwb3NpdFByb3BzPltdLCBvcHRpb25zOiBHZXRPcHRpb25zPERlcG9zaXRQcm9wcz4pOiBQcm9taXNlPERlcG9zaXRbXT4ge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZHM8Q29tcGF0RGVwb3NpdFByb3BzPignRGVwb3NpdCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdERlcG9zaXRQcm9wcz5bXSwgb3B0aW9ucyBhcyB1bmtub3duIGFzIEdldE9wdGlvbnM8Q29tcGF0RGVwb3NpdFByb3BzPik7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgRGVwb3NpdFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IERlcG9zaXRQcm9wcyk6IERlcG9zaXQge1xuICAgICAgICBhc3NlcnQocmVjb3JkLmlkICE9PSB1bmRlZmluZWQgJiYgcmVjb3JkLmlkICE9PSBudWxsLCBcImlkIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyB0aGlzKFxuICAgICAgICAgICAgcmVjb3JkLmlkLFxuICAgICAgICAgICAgcmVjb3JkLm93bmVyLFxuICAgICAgICAgICAgcmVjb3JkLmFzc2V0cyxcbiAgICAgICAgICAgIHJlY29yZC5zaGFyZXMsXG4gICAgICAgICk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZW50aXR5LHJlY29yZCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxufVxuIiwgIi8vIEF1dG8tZ2VuZXJhdGVkICwgRE8gTk9UIEVESVRcbmltcG9ydCB7RW50aXR5LCBGdW5jdGlvblByb3BlcnR5TmFtZXMsIEZpZWxkc0V4cHJlc3Npb24sIEdldE9wdGlvbnMgfSBmcm9tIFwiQHN1YnFsL3R5cGVzLWNvcmVcIjtcbmltcG9ydCBhc3NlcnQgZnJvbSAnYXNzZXJ0JztcblxuXG5cbmV4cG9ydCB0eXBlIFdpdGhkcmF3UHJvcHMgPSBPbWl0PFdpdGhkcmF3LCBOb25OdWxsYWJsZTxGdW5jdGlvblByb3BlcnR5TmFtZXM8V2l0aGRyYXc+PiB8ICdfbmFtZSc+O1xuXG4vKlxuICogQ29tcGF0IHR5cGVzIGFsbG93cyBmb3Igc3VwcG9ydCBvZiBhbHRlcm5hdGl2ZSBgaWRgIHR5cGVzIHdpdGhvdXQgcmVmYWN0b3JpbmcgdGhlIG5vZGVcbiAqL1xudHlwZSBDb21wYXRXaXRoZHJhd1Byb3BzID0gT21pdDxXaXRoZHJhd1Byb3BzLCAnaWQnPiAmIHsgaWQ6IHN0cmluZzsgfTtcbnR5cGUgQ29tcGF0RW50aXR5ID0gT21pdDxFbnRpdHksICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xuXG5leHBvcnQgY2xhc3MgV2l0aGRyYXcgaW1wbGVtZW50cyBDb21wYXRFbnRpdHkge1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIFxuICAgICAgICBpZDogc3RyaW5nLFxuICAgICAgICBzZW5kZXI6IHN0cmluZyxcbiAgICAgICAgcmVjZWl2ZXI6IHN0cmluZyxcbiAgICAgICAgb3duZXI6IHN0cmluZyxcbiAgICAgICAgYXNzZXRzOiBiaWdpbnQsXG4gICAgICAgIHNoYXJlczogYmlnaW50LFxuICAgICkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuc2VuZGVyID0gc2VuZGVyO1xuICAgICAgICB0aGlzLnJlY2VpdmVyID0gcmVjZWl2ZXI7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5hc3NldHMgPSBhc3NldHM7XG4gICAgICAgIHRoaXMuc2hhcmVzID0gc2hhcmVzO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgaWQ6IHN0cmluZztcbiAgICBwdWJsaWMgYmxvY2tIZWlnaHQ/OiBiaWdpbnQ7XG4gICAgcHVibGljIHNlbmRlcjogc3RyaW5nO1xuICAgIHB1YmxpYyByZWNlaXZlcjogc3RyaW5nO1xuICAgIHB1YmxpYyBvd25lcjogc3RyaW5nO1xuICAgIHB1YmxpYyBhc3NldHM6IGJpZ2ludDtcbiAgICBwdWJsaWMgc2hhcmVzOiBiaWdpbnQ7XG4gICAgcHVibGljIHRpbWVzdGFtcD86IERhdGU7XG4gICAgXG5cbiAgICBnZXQgX25hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdXaXRoZHJhdyc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgV2l0aGRyYXcgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnNldCgnV2l0aGRyYXcnLCBpZC50b1N0cmluZygpLCB0aGlzIGFzIHVua25vd24gYXMgQ29tcGF0V2l0aGRyYXdQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIFdpdGhkcmF3IGVudGl0eSB3aXRob3V0IGFuIElEXCIpO1xuICAgICAgICBhd2FpdCBzdG9yZS5yZW1vdmUoJ1dpdGhkcmF3JywgaWQudG9TdHJpbmcoKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldChpZDogc3RyaW5nKTogUHJvbWlzZTxXaXRoZHJhdyB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgV2l0aGRyYXcgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IHN0b3JlLmdldCgnV2l0aGRyYXcnLCBpZC50b1N0cmluZygpKTtcbiAgICAgICAgaWYgKHJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFdpdGhkcmF3UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5U2VuZGVyKHNlbmRlcjogc3RyaW5nLCBvcHRpb25zOiBHZXRPcHRpb25zPENvbXBhdFdpdGhkcmF3UHJvcHM+KTogUHJvbWlzZTxXaXRoZHJhd1tdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFdpdGhkcmF3UHJvcHM+KCdXaXRoZHJhdycsICdzZW5kZXInLCBzZW5kZXIsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAocmVjb3JkID0+IHRoaXMuY3JlYXRlKHJlY29yZCBhcyB1bmtub3duIGFzIFdpdGhkcmF3UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlSZWNlaXZlcihyZWNlaXZlcjogc3RyaW5nLCBvcHRpb25zOiBHZXRPcHRpb25zPENvbXBhdFdpdGhkcmF3UHJvcHM+KTogUHJvbWlzZTxXaXRoZHJhd1tdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFdpdGhkcmF3UHJvcHM+KCdXaXRoZHJhdycsICdyZWNlaXZlcicsIHJlY2VpdmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBXaXRoZHJhd1Byb3BzKSk7XG4gICAgfVxuICAgIFxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5T3duZXIob3duZXI6IHN0cmluZywgb3B0aW9uczogR2V0T3B0aW9uczxDb21wYXRXaXRoZHJhd1Byb3BzPik6IFByb21pc2U8V2l0aGRyYXdbXT4ge1xuICAgICAgICAvLyBJbnB1dHMgbXVzdCBiZSBjYXN0IGFzIHRoZSBzdG9yZSBpbnRlcmZhY2UgaGFzIG5vdCBiZWVuIHVwZGF0ZWQgdG8gc3VwcG9ydCBhbHRlcm5hdGl2ZSBJRCB0eXBlc1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZDxDb21wYXRXaXRoZHJhd1Byb3BzPignV2l0aGRyYXcnLCAnb3duZXInLCBvd25lciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgV2l0aGRyYXdQcm9wcykpO1xuICAgIH1cbiAgICBcblxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlbnRpdGllcyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIGZpbHRlcnMgYW5kIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBcdTI2QTBcdUZFMEYgVGhpcyBmdW5jdGlvbiB3aWxsIGZpcnN0IHNlYXJjaCBjYWNoZSBkYXRhIGZvbGxvd2VkIGJ5IERCIGRhdGEuIFBsZWFzZSBjb25zaWRlciB0aGlzIHdoZW4gdXNpbmcgb3JkZXIgYW5kIG9mZnNldCBvcHRpb25zLlx1MjZBMFx1RkUwRlxuICAgICAqICovXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5RmllbGRzKGZpbHRlcjogRmllbGRzRXhwcmVzc2lvbjxXaXRoZHJhd1Byb3BzPltdLCBvcHRpb25zOiBHZXRPcHRpb25zPFdpdGhkcmF3UHJvcHM+KTogUHJvbWlzZTxXaXRoZHJhd1tdPiB7XG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkczxDb21wYXRXaXRoZHJhd1Byb3BzPignV2l0aGRyYXcnLCBmaWx0ZXIgIGFzIHVua25vd24gYXMgRmllbGRzRXhwcmVzc2lvbjxDb21wYXRXaXRoZHJhd1Byb3BzPltdLCBvcHRpb25zIGFzIHVua25vd24gYXMgR2V0T3B0aW9uczxDb21wYXRXaXRoZHJhd1Byb3BzPik7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgV2l0aGRyYXdQcm9wcykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUocmVjb3JkOiBXaXRoZHJhd1Byb3BzKTogV2l0aGRyYXcge1xuICAgICAgICBhc3NlcnQocmVjb3JkLmlkICE9PSB1bmRlZmluZWQgJiYgcmVjb3JkLmlkICE9PSBudWxsLCBcImlkIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyB0aGlzKFxuICAgICAgICAgICAgcmVjb3JkLmlkLFxuICAgICAgICAgICAgcmVjb3JkLnNlbmRlcixcbiAgICAgICAgICAgIHJlY29yZC5yZWNlaXZlcixcbiAgICAgICAgICAgIHJlY29yZC5vd25lcixcbiAgICAgICAgICAgIHJlY29yZC5hc3NldHMsXG4gICAgICAgICAgICByZWNvcmQuc2hhcmVzLFxuICAgICAgICApO1xuICAgICAgICBPYmplY3QuYXNzaWduKGVudGl0eSxyZWNvcmQpO1xuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgIH1cbn1cbiIsICIvLyBBdXRvLWdlbmVyYXRlZCAsIERPIE5PVCBFRElUXG5pbXBvcnQge0VudGl0eSwgRnVuY3Rpb25Qcm9wZXJ0eU5hbWVzLCBGaWVsZHNFeHByZXNzaW9uLCBHZXRPcHRpb25zIH0gZnJvbSBcIkBzdWJxbC90eXBlcy1jb3JlXCI7XG5pbXBvcnQgYXNzZXJ0IGZyb20gJ2Fzc2VydCc7XG5cblxuXG5leHBvcnQgdHlwZSBSZWRlZW1SZXF1ZXN0UHJvcHMgPSBPbWl0PFJlZGVlbVJlcXVlc3QsIE5vbk51bGxhYmxlPEZ1bmN0aW9uUHJvcGVydHlOYW1lczxSZWRlZW1SZXF1ZXN0Pj4gfCAnX25hbWUnPjtcblxuLypcbiAqIENvbXBhdCB0eXBlcyBhbGxvd3MgZm9yIHN1cHBvcnQgb2YgYWx0ZXJuYXRpdmUgYGlkYCB0eXBlcyB3aXRob3V0IHJlZmFjdG9yaW5nIHRoZSBub2RlXG4gKi9cbnR5cGUgQ29tcGF0UmVkZWVtUmVxdWVzdFByb3BzID0gT21pdDxSZWRlZW1SZXF1ZXN0UHJvcHMsICdpZCc+ICYgeyBpZDogc3RyaW5nOyB9O1xudHlwZSBDb21wYXRFbnRpdHkgPSBPbWl0PEVudGl0eSwgJ2lkJz4gJiB7IGlkOiBzdHJpbmc7IH07XG5cbmV4cG9ydCBjbGFzcyBSZWRlZW1SZXF1ZXN0IGltcGxlbWVudHMgQ29tcGF0RW50aXR5IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBcbiAgICAgICAgaWQ6IHN0cmluZyxcbiAgICAgICAgb3duZXI6IHN0cmluZyxcbiAgICAgICAgc2hhcmVzOiBiaWdpbnQsXG4gICAgICAgIHJlcXVlc3RUaW1lOiBiaWdpbnQsXG4gICAgICAgIHN0YXR1czogc3RyaW5nLFxuICAgICkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMub3duZXIgPSBvd25lcjtcbiAgICAgICAgdGhpcy5zaGFyZXMgPSBzaGFyZXM7XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWUgPSByZXF1ZXN0VGltZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBibG9ja0hlaWdodD86IGJpZ2ludDtcbiAgICBwdWJsaWMgb3duZXI6IHN0cmluZztcbiAgICBwdWJsaWMgc2hhcmVzOiBiaWdpbnQ7XG4gICAgcHVibGljIHJlcXVlc3RUaW1lOiBiaWdpbnQ7XG4gICAgcHVibGljIHN0YXR1czogc3RyaW5nO1xuICAgIHB1YmxpYyBhc3NldHNQYWlkPzogYmlnaW50O1xuICAgIHB1YmxpYyBjcmVhdGVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyB1cGRhdGVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyByZXF1ZXN0ZWRBdD86IERhdGU7XG4gICAgcHVibGljIGFwcHJvdmVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyBleGVjdXRlZEF0PzogRGF0ZTtcbiAgICBwdWJsaWMgY2FuY2VsbGVkQXQ/OiBEYXRlO1xuICAgIHB1YmxpYyByZXF1ZXN0ZWRUeEhhc2g/OiBzdHJpbmc7XG4gICAgcHVibGljIGNhbmNlbGxlZFR4SGFzaD86IHN0cmluZztcbiAgICBwdWJsaWMgYXBwcm92ZWRUeEhhc2g/OiBzdHJpbmc7XG4gICAgcHVibGljIGV4ZWN1dGVkVHhIYXNoPzogc3RyaW5nO1xuICAgIFxuXG4gICAgZ2V0IF9uYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnUmVkZWVtUmVxdWVzdCc7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgICAgICBhc3NlcnQoaWQgIT09IG51bGwsIFwiQ2Fubm90IHNhdmUgUmVkZWVtUmVxdWVzdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgYXdhaXQgc3RvcmUuc2V0KCdSZWRlZW1SZXF1ZXN0JywgaWQudG9TdHJpbmcoKSwgdGhpcyBhcyB1bmtub3duIGFzIENvbXBhdFJlZGVlbVJlcXVlc3RQcm9wcyk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIHJlbW92ZShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGFzc2VydChpZCAhPT0gbnVsbCwgXCJDYW5ub3QgcmVtb3ZlIFJlZGVlbVJlcXVlc3QgZW50aXR5IHdpdGhvdXQgYW4gSURcIik7XG4gICAgICAgIGF3YWl0IHN0b3JlLnJlbW92ZSgnUmVkZWVtUmVxdWVzdCcsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBnZXQoaWQ6IHN0cmluZyk6IFByb21pc2U8UmVkZWVtUmVxdWVzdCB8IHVuZGVmaW5lZD4ge1xuICAgICAgICBhc3NlcnQoKGlkICE9PSBudWxsICYmIGlkICE9PSB1bmRlZmluZWQpLCBcIkNhbm5vdCBnZXQgUmVkZWVtUmVxdWVzdCBlbnRpdHkgd2l0aG91dCBhbiBJRFwiKTtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gYXdhaXQgc3RvcmUuZ2V0KCdSZWRlZW1SZXF1ZXN0JywgaWQudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChyZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWRlZW1SZXF1ZXN0UHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEJ5T3duZXIob3duZXI6IHN0cmluZywgb3B0aW9uczogR2V0T3B0aW9uczxDb21wYXRSZWRlZW1SZXF1ZXN0UHJvcHM+KTogUHJvbWlzZTxSZWRlZW1SZXF1ZXN0W10+IHtcbiAgICAgICAgLy8gSW5wdXRzIG11c3QgYmUgY2FzdCBhcyB0aGUgc3RvcmUgaW50ZXJmYWNlIGhhcyBub3QgYmVlbiB1cGRhdGVkIHRvIHN1cHBvcnQgYWx0ZXJuYXRpdmUgSUQgdHlwZXNcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IHN0b3JlLmdldEJ5RmllbGQ8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPignUmVkZWVtUmVxdWVzdCcsICdvd25lcicsIG93bmVyLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWRlZW1SZXF1ZXN0UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QnlTdGF0dXMoc3RhdHVzOiBzdHJpbmcsIG9wdGlvbnM6IEdldE9wdGlvbnM8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPik6IFByb21pc2U8UmVkZWVtUmVxdWVzdFtdPiB7XG4gICAgICAgIC8vIElucHV0cyBtdXN0IGJlIGNhc3QgYXMgdGhlIHN0b3JlIGludGVyZmFjZSBoYXMgbm90IGJlZW4gdXBkYXRlZCB0byBzdXBwb3J0IGFsdGVybmF0aXZlIElEIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBzdG9yZS5nZXRCeUZpZWxkPENvbXBhdFJlZGVlbVJlcXVlc3RQcm9wcz4oJ1JlZGVlbVJlcXVlc3QnLCAnc3RhdHVzJywgc3RhdHVzLCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlY29yZHMubWFwKHJlY29yZCA9PiB0aGlzLmNyZWF0ZShyZWNvcmQgYXMgdW5rbm93biBhcyBSZWRlZW1SZXF1ZXN0UHJvcHMpKTtcbiAgICB9XG4gICAgXG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgZW50aXRpZXMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBmaWx0ZXJzIGFuZCBvcHRpb25zLlxuICAgICAqXG4gICAgICogXHUyNkEwXHVGRTBGIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJzdCBzZWFyY2ggY2FjaGUgZGF0YSBmb2xsb3dlZCBieSBEQiBkYXRhLiBQbGVhc2UgY29uc2lkZXIgdGhpcyB3aGVuIHVzaW5nIG9yZGVyIGFuZCBvZmZzZXQgb3B0aW9ucy5cdTI2QTBcdUZFMEZcbiAgICAgKiAqL1xuICAgIHN0YXRpYyBhc3luYyBnZXRCeUZpZWxkcyhmaWx0ZXI6IEZpZWxkc0V4cHJlc3Npb248UmVkZWVtUmVxdWVzdFByb3BzPltdLCBvcHRpb25zOiBHZXRPcHRpb25zPFJlZGVlbVJlcXVlc3RQcm9wcz4pOiBQcm9taXNlPFJlZGVlbVJlcXVlc3RbXT4ge1xuICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgc3RvcmUuZ2V0QnlGaWVsZHM8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPignUmVkZWVtUmVxdWVzdCcsIGZpbHRlciAgYXMgdW5rbm93biBhcyBGaWVsZHNFeHByZXNzaW9uPENvbXBhdFJlZGVlbVJlcXVlc3RQcm9wcz5bXSwgb3B0aW9ucyBhcyB1bmtub3duIGFzIEdldE9wdGlvbnM8Q29tcGF0UmVkZWVtUmVxdWVzdFByb3BzPik7XG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChyZWNvcmQgPT4gdGhpcy5jcmVhdGUocmVjb3JkIGFzIHVua25vd24gYXMgUmVkZWVtUmVxdWVzdFByb3BzKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyZWF0ZShyZWNvcmQ6IFJlZGVlbVJlcXVlc3RQcm9wcyk6IFJlZGVlbVJlcXVlc3Qge1xuICAgICAgICBhc3NlcnQocmVjb3JkLmlkICE9PSB1bmRlZmluZWQgJiYgcmVjb3JkLmlkICE9PSBudWxsLCBcImlkIG11c3QgYmUgcHJvdmlkZWRcIik7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyB0aGlzKFxuICAgICAgICAgICAgcmVjb3JkLmlkLFxuICAgICAgICAgICAgcmVjb3JkLm93bmVyLFxuICAgICAgICAgICAgcmVjb3JkLnNoYXJlcyxcbiAgICAgICAgICAgIHJlY29yZC5yZXF1ZXN0VGltZSxcbiAgICAgICAgICAgIHJlY29yZC5zdGF0dXMsXG4gICAgICAgICk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oZW50aXR5LHJlY29yZCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFJlZGVlbVJlcXVlc3QgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IFJlZGVlbVJlcXVlc3RlZExvZywgUmVkZWVtQ2FuY2VsbGVkTG9nLCBSZWRlZW1BcHByb3ZlZExvZywgUmVkZWVtRXhlY3V0ZWRMb2cgfSBmcm9tIFwiLi4vdHlwZXMvYWJpLWludGVyZmFjZXMvU2VFVEhSZWRlZW1cIjtcbmltcG9ydCBhc3NlcnQgZnJvbSBcImFzc2VydFwiO1xuXG5lbnVtIFJlZGVlbVJlcXVlc3RTdGF0dXMge1xuICBwZW5kaW5nID0gXCJwZW5kaW5nXCIsXG4gIHJlcXVlc3RlZCA9IFwicmVxdWVzdGVkXCIsXG4gIGFwcHJvdmVkID0gXCJhcHByb3ZlZFwiLFxuICBleGVjdXRlZCA9IFwiZXhlY3V0ZWRcIixcbiAgY2FuY2VsbGVkID0gXCJjYW5jZWxsZWRcIixcbn1cblxuLy8gU2VFVEggUmVkZWVtUmVxdWVzdGVkIGV2ZW50XG4vLyBldmVudCBSZWRlZW1SZXF1ZXN0ZWQodWludDI1NiBpbmRleGVkIHJlcXVlc3RJZCwgYWRkcmVzcyBpbmRleGVkIG93bmVyLCB1aW50MjU2IHNoYXJlcyk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVkZWVtUmVxdWVzdGVkKHJlZGVlbVJlcXVlc3RlZDogUmVkZWVtUmVxdWVzdGVkTG9nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKGBOZXcgcmVkZWVtUmVxdWVzdGVkIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke3JlZGVlbVJlcXVlc3RlZC5ibG9ja051bWJlcn1gKTtcbiAgYXNzZXJ0KHJlZGVlbVJlcXVlc3RlZC5hcmdzLCBcIk5vIHJlZGVlbVJlcXVlc3RlZC5hcmdzXCIpO1xuXG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQuYWRkcmVzczogJHtyZWRlZW1SZXF1ZXN0ZWQuYWRkcmVzc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbVJlcXVlc3RlZC5ibG9ja051bWJlcjogJHtyZWRlZW1SZXF1ZXN0ZWQuYmxvY2tOdW1iZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQudHJhbnNhY3Rpb25IYXNoOiAke3JlZGVlbVJlcXVlc3RlZC50cmFuc2FjdGlvbkhhc2h9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1SZXF1ZXN0ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXA6ICR7cmVkZWVtUmVxdWVzdGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtUmVxdWVzdGVkLmFyZ3MucmVxdWVzdElkOiAke3JlZGVlbVJlcXVlc3RlZC5hcmdzLnJlcXVlc3RJZH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbVJlcXVlc3RlZC5hcmdzLm93bmVyOiAke3JlZGVlbVJlcXVlc3RlZC5hcmdzLm93bmVyfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtUmVxdWVzdGVkLmFyZ3Muc2hhcmVzOiAke3JlZGVlbVJlcXVlc3RlZC5hcmdzLnNoYXJlc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbVJlcXVlc3RlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcblxuICBjb25zdCByZXF1ZXN0SWQgPSByZWRlZW1SZXF1ZXN0ZWQuYXJncy5yZXF1ZXN0SWQudG9TdHJpbmcoKTtcbiAgY29uc3Qgb3duZXIgPSByZWRlZW1SZXF1ZXN0ZWQuYXJncy5vd25lcjtcbiAgY29uc3Qgc2hhcmVzID0gQmlnSW50KHJlZGVlbVJlcXVlc3RlZC5hcmdzLnNoYXJlcy50b1N0cmluZygpKTtcbiAgY29uc3QgcmVxdWVzdFRpbWUgPSBCaWdJbnQocmVkZWVtUmVxdWVzdGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wLnRvU3RyaW5nKCkpO1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtUmVxdWVzdGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApO1xuXG4gIGxvZ2dlci5pbmZvKGBDcmVhdGluZyBuZXcgUmVkZWVtUmVxdWVzdDogJHtyZXF1ZXN0SWR9IGZvciBvd25lcjogJHtvd25lcn0gd2l0aCBzaGFyZXM6ICR7c2hhcmVzfWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IFJlZGVlbVJlcXVlc3QuY3JlYXRlKHtcbiAgICBpZDogcmVxdWVzdElkLFxuICAgIGJsb2NrSGVpZ2h0OiBCaWdJbnQocmVkZWVtUmVxdWVzdGVkLmJsb2NrTnVtYmVyKSxcbiAgICBvd25lcjogb3duZXIsXG4gICAgc2hhcmVzOiBzaGFyZXMsXG4gICAgcmVxdWVzdFRpbWU6IHJlcXVlc3RUaW1lLFxuICAgIHN0YXR1czogUmVkZWVtUmVxdWVzdFN0YXR1cy5yZXF1ZXN0ZWQsXG4gICAgY3JlYXRlZEF0OiB0aW1lc3RhbXAsXG4gICAgdXBkYXRlZEF0OiB0aW1lc3RhbXAsXG4gICAgcmVxdWVzdGVkQXQ6IHRpbWVzdGFtcCxcbiAgICByZXF1ZXN0ZWRUeEhhc2g6IHJlZGVlbVJlcXVlc3RlZC50cmFuc2FjdGlvbkhhc2gsXG4gIH0pO1xuXG4gIGF3YWl0IHJlY29yZC5zYXZlKCk7XG59XG5cbi8vIFNlRVRIIFJlZGVlbUNhbmNlbGxlZCBldmVudFxuLy8gZXZlbnQgUmVkZWVtQ2FuY2VsbGVkKHVpbnQyNTYgaW5kZXhlZCByZXF1ZXN0SWQsIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBzaGFyZXMpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlZGVlbUNhbmNlbGxlZChyZWRlZW1DYW5jZWxsZWQ6IFJlZGVlbUNhbmNlbGxlZExvZyk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IHJlZGVlbUNhbmNlbGxlZCB0cmFuc2FjdGlvbiBsb2cgYXQgYmxvY2sgJHtyZWRlZW1DYW5jZWxsZWQuYmxvY2tOdW1iZXJ9YCk7XG4gIGFzc2VydChyZWRlZW1DYW5jZWxsZWQuYXJncywgXCJObyByZWRlZW1DYW5jZWxsZWQuYXJnc1wiKTtcblxuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkLmFkZHJlc3M6ICR7cmVkZWVtQ2FuY2VsbGVkLmFkZHJlc3N9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1DYW5jZWxsZWQuYmxvY2tOdW1iZXI6ICR7cmVkZWVtQ2FuY2VsbGVkLmJsb2NrTnVtYmVyfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkLnRyYW5zYWN0aW9uSGFzaDogJHtyZWRlZW1DYW5jZWxsZWQudHJhbnNhY3Rpb25IYXNofWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQ2FuY2VsbGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wOiAke3JlZGVlbUNhbmNlbGxlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUNhbmNlbGxlZC5hcmdzLnJlcXVlc3RJZDogJHtyZWRlZW1DYW5jZWxsZWQuYXJncy5yZXF1ZXN0SWR9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1DYW5jZWxsZWQuYXJncy5vd25lcjogJHtyZWRlZW1DYW5jZWxsZWQuYXJncy5vd25lcn1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUNhbmNlbGxlZC5hcmdzLnNoYXJlczogJHtyZWRlZW1DYW5jZWxsZWQuYXJncy5zaGFyZXN9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1DYW5jZWxsZWQ9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09YCk7XG5cbiAgY29uc3QgcmVxdWVzdElkID0gcmVkZWVtQ2FuY2VsbGVkLmFyZ3MucmVxdWVzdElkLnRvU3RyaW5nKCk7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKE51bWJlcihyZWRlZW1DYW5jZWxsZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXApICogMTAwMCk7XG5cbiAgY29uc3QgY2FuY2VsbGVkQXQgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtQ2FuY2VsbGVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApO1xuXG4gIGxvZ2dlci5pbmZvKGBDYW5jZWxsaW5nIFJlZGVlbVJlcXVlc3Q6ICR7cmVxdWVzdElkfWApO1xuXG4gIGNvbnN0IHJlY29yZCA9IGF3YWl0IFJlZGVlbVJlcXVlc3QuZ2V0KHJlcXVlc3RJZCk7XG4gIGlmIChyZWNvcmQpIHtcbiAgICBpZiAocmVjb3JkLnN0YXR1cyA9PT0gUmVkZWVtUmVxdWVzdFN0YXR1cy5jYW5jZWxsZWQpIHtcbiAgICAgIGxvZ2dlci53YXJuKGBSZWRlZW1SZXF1ZXN0ICR7cmVxdWVzdElkfSBhbHJlYWR5IGNhbmNlbGxlZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlY29yZC5zdGF0dXMgPSBSZWRlZW1SZXF1ZXN0U3RhdHVzLmNhbmNlbGxlZDtcbiAgICByZWNvcmQudXBkYXRlZEF0ID0gdGltZXN0YW1wO1xuICAgIHJlY29yZC5jYW5jZWxsZWRUeEhhc2ggPSByZWRlZW1DYW5jZWxsZWQudHJhbnNhY3Rpb25IYXNoO1xuICAgIHJlY29yZC5jYW5jZWxsZWRBdCA9IGNhbmNlbGxlZEF0O1xuICAgIGF3YWl0IHJlY29yZC5zYXZlKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLndhcm4oYFJlZGVlbVJlcXVlc3QgJHtyZXF1ZXN0SWR9IG5vdCBmb3VuZCBmb3IgY2FuY2VsbGF0aW9uYCk7XG4gIH1cbn1cblxuLy8gU2VFVEggUmVkZWVtQXBwcm92ZWQgZXZlbnRcbi8vIGV2ZW50IFJlZGVlbUFwcHJvdmVkKHVpbnQyNTYgaW5kZXhlZCByZXF1ZXN0SWQsIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBzaGFyZXMpO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlZGVlbUFwcHJvdmVkKHJlZGVlbUFwcHJvdmVkOiBSZWRlZW1BcHByb3ZlZExvZyk6IFByb21pc2U8dm9pZD4ge1xuICBsb2dnZXIuaW5mbyhgTmV3IHJlZGVlbUFwcHJvdmVkIHRyYW5zYWN0aW9uIGxvZyBhdCBibG9jayAke3JlZGVlbUFwcHJvdmVkLmJsb2NrTnVtYmVyfWApO1xuICBhc3NlcnQocmVkZWVtQXBwcm92ZWQuYXJncywgXCJObyByZWRlZW1BcHByb3ZlZC5hcmdzXCIpO1xuXG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZD09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUFwcHJvdmVkLmFkZHJlc3M6ICR7cmVkZWVtQXBwcm92ZWQuYWRkcmVzc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUFwcHJvdmVkLmJsb2NrTnVtYmVyOiAke3JlZGVlbUFwcHJvdmVkLmJsb2NrTnVtYmVyfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQXBwcm92ZWQudHJhbnNhY3Rpb25IYXNoOiAke3JlZGVlbUFwcHJvdmVkLnRyYW5zYWN0aW9uSGFzaH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUFwcHJvdmVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wOiAke3JlZGVlbUFwcHJvdmVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtQXBwcm92ZWQuYXJncy5yZXF1ZXN0SWQ6ICR7cmVkZWVtQXBwcm92ZWQuYXJncy5yZXF1ZXN0SWR9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZC5hcmdzLm93bmVyOiAke3JlZGVlbUFwcHJvdmVkLmFyZ3Mub3duZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1BcHByb3ZlZC5hcmdzLnNoYXJlczogJHtyZWRlZW1BcHByb3ZlZC5hcmdzLnNoYXJlc31gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUFwcHJvdmVkPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlcXVlc3RJZCA9IHJlZGVlbUFwcHJvdmVkLmFyZ3MucmVxdWVzdElkLnRvU3RyaW5nKCk7XG4gIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKE51bWJlcihyZWRlZW1BcHByb3ZlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKTtcblxuICBjb25zdCBhcHByb3ZlZEF0ID0gbmV3IERhdGUoTnVtYmVyKHJlZGVlbUFwcHJvdmVkLnRyYW5zYWN0aW9uLmJsb2NrVGltZXN0YW1wKSAqIDEwMDApO1xuXG4gIGxvZ2dlci5pbmZvKGBBcHByb3ZpbmcgUmVkZWVtUmVxdWVzdDogJHtyZXF1ZXN0SWR9YCk7XG5cbiAgY29uc3QgcmVjb3JkID0gYXdhaXQgUmVkZWVtUmVxdWVzdC5nZXQocmVxdWVzdElkKTtcbiAgaWYgKHJlY29yZCkge1xuICAgIGlmIChyZWNvcmQuc3RhdHVzID09PSBSZWRlZW1SZXF1ZXN0U3RhdHVzLmFwcHJvdmVkKSB7XG4gICAgICBsb2dnZXIud2FybihgUmVkZWVtUmVxdWVzdCAke3JlcXVlc3RJZH0gYWxyZWFkeSBhcHByb3ZlZGApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlY29yZC5zdGF0dXMgPSBSZWRlZW1SZXF1ZXN0U3RhdHVzLmFwcHJvdmVkO1xuICAgIHJlY29yZC51cGRhdGVkQXQgPSB0aW1lc3RhbXA7XG4gICAgcmVjb3JkLmFwcHJvdmVkVHhIYXNoID0gcmVkZWVtQXBwcm92ZWQudHJhbnNhY3Rpb25IYXNoO1xuICAgIHJlY29yZC5hcHByb3ZlZEF0ID0gYXBwcm92ZWRBdDtcbiAgICBhd2FpdCByZWNvcmQuc2F2ZSgpO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci53YXJuKGBSZWRlZW1SZXF1ZXN0ICR7cmVxdWVzdElkfSBub3QgZm91bmQgZm9yIGFwcHJvdmFsYCk7XG4gIH1cbn1cblxuLy8gU2VFVEggUmVkZWVtRXhlY3V0ZWQgZXZlbnRcbi8vIGV2ZW50IFJlZGVlbUV4ZWN1dGVkKHVpbnQyNTYgaW5kZXhlZCByZXF1ZXN0SWQsIGFkZHJlc3MgaW5kZXhlZCBvd25lciwgdWludDI1NiBzaGFyZXMsIHVpbnQyNTYgYXNzZXRzUGFpZCk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVkZWVtRXhlY3V0ZWQocmVkZWVtRXhlY3V0ZWQ6IFJlZGVlbUV4ZWN1dGVkTG9nKTogUHJvbWlzZTx2b2lkPiB7XG4gIGxvZ2dlci5pbmZvKGBOZXcgcmVkZWVtRXhlY3V0ZWQgdHJhbnNhY3Rpb24gbG9nIGF0IGJsb2NrICR7cmVkZWVtRXhlY3V0ZWQuYmxvY2tOdW1iZXJ9YCk7XG4gIGFzc2VydChyZWRlZW1FeGVjdXRlZC5hcmdzLCBcIk5vIHJlZGVlbUV4ZWN1dGVkLmFyZ3NcIik7XG5cbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtRXhlY3V0ZWQuYWRkcmVzczogJHtyZWRlZW1FeGVjdXRlZC5hZGRyZXNzfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtRXhlY3V0ZWQuYmxvY2tOdW1iZXI6ICR7cmVkZWVtRXhlY3V0ZWQuYmxvY2tOdW1iZXJ9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1FeGVjdXRlZC50cmFuc2FjdGlvbkhhc2g6ICR7cmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb25IYXNofWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXA6ICR7cmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXB9YCk7XG4gIGxvZ2dlci5pbmZvKGByZWRlZW1FeGVjdXRlZC5hcmdzLnJlcXVlc3RJZDogJHtyZWRlZW1FeGVjdXRlZC5hcmdzLnJlcXVlc3RJZH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkLmFyZ3Mub3duZXI6ICR7cmVkZWVtRXhlY3V0ZWQuYXJncy5vd25lcn1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkLmFyZ3Muc2hhcmVzOiAke3JlZGVlbUV4ZWN1dGVkLmFyZ3Muc2hhcmVzfWApO1xuICBsb2dnZXIuaW5mbyhgcmVkZWVtRXhlY3V0ZWQuYXJncy5hc3NldHNQYWlkOiAke3JlZGVlbUV4ZWN1dGVkLmFyZ3MuYXNzZXRzUGFpZH1gKTtcbiAgbG9nZ2VyLmluZm8oYHJlZGVlbUV4ZWN1dGVkPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PWApO1xuXG4gIGNvbnN0IHJlcXVlc3RJZCA9IHJlZGVlbUV4ZWN1dGVkLmFyZ3MucmVxdWVzdElkLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGFzc2V0c1BhaWQgPSBCaWdJbnQocmVkZWVtRXhlY3V0ZWQuYXJncy5hc3NldHNQYWlkLnRvU3RyaW5nKCkpO1xuICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZShOdW1iZXIocmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb24uYmxvY2tUaW1lc3RhbXApICogMTAwMCk7XG5cbiAgY29uc3QgZXhlY3V0ZWRBdCA9IG5ldyBEYXRlKE51bWJlcihyZWRlZW1FeGVjdXRlZC50cmFuc2FjdGlvbi5ibG9ja1RpbWVzdGFtcCkgKiAxMDAwKTtcblxuICBsb2dnZXIuaW5mbyhgRXhlY3V0aW5nIFJlZGVlbVJlcXVlc3Q6ICR7cmVxdWVzdElkfSB3aXRoIGFzc2V0c1BhaWQ6ICR7YXNzZXRzUGFpZH1gKTtcblxuICBjb25zdCByZWNvcmQgPSBhd2FpdCBSZWRlZW1SZXF1ZXN0LmdldChyZXF1ZXN0SWQpO1xuICBpZiAocmVjb3JkKSB7XG4gICAgaWYgKHJlY29yZC5zdGF0dXMgPT09IFJlZGVlbVJlcXVlc3RTdGF0dXMuZXhlY3V0ZWQpIHtcbiAgICAgIGxvZ2dlci53YXJuKGBSZWRlZW1SZXF1ZXN0ICR7cmVxdWVzdElkfSBhbHJlYWR5IGV4ZWN1dGVkYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVjb3JkLnN0YXR1cyA9IFJlZGVlbVJlcXVlc3RTdGF0dXMuZXhlY3V0ZWQ7XG4gICAgcmVjb3JkLmFzc2V0c1BhaWQgPSBhc3NldHNQYWlkO1xuICAgIHJlY29yZC51cGRhdGVkQXQgPSB0aW1lc3RhbXA7XG4gICAgcmVjb3JkLmV4ZWN1dGVkVHhIYXNoID0gcmVkZWVtRXhlY3V0ZWQudHJhbnNhY3Rpb25IYXNoO1xuICAgIHJlY29yZC5leGVjdXRlZEF0ID0gZXhlY3V0ZWRBdDtcbiAgICBhd2FpdCByZWNvcmQuc2F2ZSgpO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci53YXJuKGBSZWRlZW1SZXF1ZXN0ICR7cmVxdWVzdElkfSBub3QgZm91bmQgZm9yIGV4ZWN1dGlvbmApO1xuICB9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiMGpCQUFBLElBQUFBLEVBQUEsR0FBQUMsRUFBQUQsRUFBQSxtQkFBQUUsRUFBQSx5QkFBQUMsRUFBQSwwQkFBQUMsRUFBQSx5QkFBQUMsRUFBQSwwQkFBQUMsRUFBQSxtQkFBQUMsSUFBQSxlQUFBQyxFQUFBUixHQ0FBLElBQUFTLEVBQW1CLHFCQ0VuQixJQUFBQyxFQUFtQixxQkFZTkMsRUFBTixLQUFzQyxDQUV6QyxZQUVJQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNGLENBQ0UsS0FBSyxHQUFLSCxFQUNWLEtBQUssTUFBUUMsRUFDYixLQUFLLE9BQVNDLEVBQ2QsS0FBSyxPQUFTQyxDQUVsQixDQVVBLElBQUksT0FBZ0IsQ0FDaEIsTUFBTyxTQUNYLENBRUEsTUFBTSxNQUFzQixDQUN4QixJQUFNSCxFQUFLLEtBQUssTUFDaEIsRUFBQUksU0FBT0osSUFBTyxLQUFNLDBDQUEwQyxFQUM5RCxNQUFNLE1BQU0sSUFBSSxVQUFXQSxFQUFHLFNBQVMsRUFBRyxJQUFxQyxDQUNuRixDQUVBLGFBQWEsT0FBT0EsRUFBMkIsSUFDM0MsRUFBQUksU0FBT0osSUFBTyxLQUFNLDRDQUE0QyxFQUNoRSxNQUFNLE1BQU0sT0FBTyxVQUFXQSxFQUFHLFNBQVMsQ0FBQyxDQUMvQyxDQUVBLGFBQWEsSUFBSUEsRUFBMEMsSUFDdkQsRUFBQUksU0FBUUosR0FBTyxLQUEyQix5Q0FBeUMsRUFDbkYsSUFBTUssRUFBUyxNQUFNLE1BQU0sSUFBSSxVQUFXTCxFQUFHLFNBQVMsQ0FBQyxFQUN2RCxHQUFJSyxFQUNBLE9BQU8sS0FBSyxPQUFPQSxDQUFpQyxDQUk1RCxDQUVBLGFBQWEsV0FBV0osRUFBZUssRUFBNkQsQ0FHaEcsT0FEZ0IsTUFBTSxNQUFNLFdBQStCLFVBQVcsUUFBU0wsRUFBT0ssQ0FBTyxHQUM5RSxJQUFJRCxHQUFVLEtBQUssT0FBT0EsQ0FBaUMsQ0FB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QUFTLDBCQUEwQixDQUVwRSIsCiAgIm5hbWVzIjogWyJpbmRleF9leHBvcnRzIiwgIl9fZXhwb3J0IiwgImhhbmRsZURlcG9zaXQiLCAiaGFuZGxlUmVkZWVtQXBwcm92ZWQiLCAiaGFuZGxlUmVkZWVtQ2FuY2VsbGVkIiwgImhhbmRsZVJlZGVlbUV4ZWN1dGVkIiwgImhhbmRsZVJlZGVlbVJlcXVlc3RlZCIsICJoYW5kbGVXaXRoZHJhdyIsICJfX3RvQ29tbW9uSlMiLCAiaW1wb3J0X2Fzc2VydCIsICJpbXBvcnRfYXNzZXJ0IiwgIkRlcG9zaXQiLCAiaWQiLCAib3duZXIiLCAiYXNzZXRzIiwgInNoYXJlcyIsICJhc3NlcnQiLCAicmVjb3JkIiwgIm9wdGlvbnMiLCAiZmlsdGVyIiwgImVudGl0eSIsICJpbXBvcnRfYXNzZXJ0IiwgIldpdGhkcmF3IiwgImlkIiwgInNlbmRlciIsICJyZWNlaXZlciIsICJvd25lciIsICJhc3NldHMiLCAic2hhcmVzIiwgImFzc2VydCIsICJyZWNvcmQiLCAib3B0aW9ucyIsICJmaWx0ZXIiLCAiZW50aXR5IiwgImltcG9ydF9hc3NlcnQiLCAiUmVkZWVtUmVxdWVzdCIsICJpZCIsICJvd25lciIsICJzaGFyZXMiLCAicmVxdWVzdFRpbWUiLCAic3RhdHVzIiwgImFzc2VydCIsICJyZWNvcmQiLCAib3B0aW9ucyIsICJmaWx0ZXIiLCAiZW50aXR5IiwgImhhbmRsZURlcG9zaXQiLCAiZGVwb3NpdCIsICJhc3NlcnQiLCAiRGVwb3NpdCIsICJoYW5kbGVXaXRoZHJhdyIsICJ3aXRoZHJhdyIsICJXaXRoZHJhdyIsICJpbXBvcnRfYXNzZXJ0IiwgImhhbmRsZVJlZGVlbVJlcXVlc3RlZCIsICJyZWRlZW1SZXF1ZXN0ZWQiLCAiYXNzZXJ0IiwgInJlcXVlc3RJZCIsICJvd25lciIsICJzaGFyZXMiLCAicmVxdWVzdFRpbWUiLCAidGltZXN0YW1wIiwgIlJlZGVlbVJlcXVlc3QiLCAiaGFuZGxlUmVkZWVtQ2FuY2VsbGVkIiwgInJlZGVlbUNhbmNlbGxlZCIsICJjYW5jZWxsZWRBdCIsICJyZWNvcmQiLCAiaGFuZGxlUmVkZWVtQXBwcm92ZWQiLCAicmVkZWVtQXBwcm92ZWQiLCAiYXBwcm92ZWRBdCIsICJoYW5kbGVSZWRlZW1FeGVjdXRlZCIsICJyZWRlZW1FeGVjdXRlZCIsICJhc3NldHNQYWlkIiwgImV4ZWN1dGVkQXQiXQp9Cg==
